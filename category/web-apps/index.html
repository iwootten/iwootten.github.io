<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ian Wootten - Web Developer, Cardiff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/fonts/open-sans.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-263865-2', 'ianwootten.co.uk');
      ga('send', 'pageview');

    </script>
</head>
<body>

<div class="container web-apps">
    <header>
      <nav>
      <ul class="nav">
        <li><a class="blog " href="/">Blog</a></li>
        <li><a class="javascript " href="/category/javascript">Javascript</a></li>
        <li><a class="web-apps active" href="/category/web-apps">Web Apps</a></li>
        <li><a class="about" href="/about">About</a></li>
        <li><a class="contact" href="/contact">Contact</a></li>
      </ul>
      </nav>
      <div class="clear"></div>
    </header>

      
        <div class="post">
          <h1><a href="/2014/07/01/splitting-a-date-range-in-python">Splitting a date range in Python</a></h1>
      <div class="author_meta">01 Jul 2014</div>

          <p>Dates are one of those annoying things that shouldn&#39;t be, but are regularly difficult in web apps. I used the following two methods in a recent page to neatly break a date range into distinct segments as part of a analytics app I&#39;m currently working on. Hopefully someone else will find them helpful.</p>
<div class='hljs'><pre><code class='python'><span class="hljs-keyword">import</span> datetime, calendar

<span class="hljs-comment"># Find the delta between two dates based on a desired number of ranges</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">datedelta</span><span class="hljs-params">(startdate, enddate, no_of_ranges)</span>:</span>
    start_epoch = calendar.timegm(startdate.timetuple())
    end_epoch = calendar.timegm(enddate.timetuple())

    date_diff = end_epoch - start_epoch

    step = date_diff / no_of_ranges

    <span class="hljs-keyword">return</span> datetime.timedelta(seconds=step)</code></pre></div><p>date_delta allows me to create the timedeltas between two dates based on a desired number of segments.</p>
<div class='hljs'><pre><code class='python'><span class="hljs-comment"># Edit 18/07/2014 - I realised dates needed the hrs, mins an secs correctly</span>
<span class="hljs-comment"># adjusted to beginning / end of day</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">datespan</span><span class="hljs-params">(startdate, enddate, delta=datetime.timedelta<span class="hljs-params">(days=<span class="hljs-number">1</span>)</span>)</span>:</span>
    currentdate = startdate

    <span class="hljs-keyword">while</span> currentdate + delta &lt; enddate:
        todate = (currentdate + delta).replace(hour=<span class="hljs-number">23</span>, minute=<span class="hljs-number">59</span>,second=<span class="hljs-number">59</span>)

        <span class="hljs-keyword">yield</span> currentdate, todate

        currentdate += delta
        currentdate.replace(hour=<span class="hljs-number">0</span>, minute=<span class="hljs-number">0</span>,second=<span class="hljs-number">0</span>)</code></pre></div><p>I can then pass the delta into datespan above, which returns an iterable I can then use.</p>
<div class='hljs'><pre><code class='python'><span class="hljs-comment"># Get timedeltas based on splitting the range by 10</span>
delta = date_delta(startdate, enddate, <span class="hljs-number">10</span>)

<span class="hljs-keyword">for</span> from_datetime, to_datetime <span class="hljs-keyword">in</span> datespan(startdate, enddate, delta):
    <span class="hljs-keyword">print</span> from_datetime, to_datetime</code></pre></div><p>The result forms part of the following d3 chart:</p>
<p><blockquote class="twitter-tweet" lang="en"><p>Made some updates to that there commerce dashboard (now uses summary ranges on x-axis), what do people think? <a href="http://t.co/AatFxBRnsC">pic.twitter.com/AatFxBRnsC</a></p>&mdash; Ian Wootten (@iwootten) <a href="https://twitter.com/iwootten/statuses/481780932496863233">June 25, 2014</a></blockquote></p>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/coding">coding</a>,
                
                <a href="/tag/python">python</a>,
                
              
              | <a href="2014/07/01/splitting-a-date-range-in-python/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2013/06/27/the-developer-dream">The Developer Dream</a></h1>
      <div class="author_meta">27 Jun 2013</div>

          <p>I suffer from idea overload. It seems that every day I have an idea for something. As a developer, I&#8217;m lucky in that to be able to take an idea to inception very quickly. Best of all, I can show it at inception stage to a huge audience (if I had one), garner feedback and quickly iterate on that idea. To date, I&#8217;ve mainly created these by myself &#8211; a casualty of doing paid work in the main like this too. </p>
<p>Most of these ideas in the have been simple hacks &#8211; <a href="http://loveletterd.com">solutions to things that bug me</a>. <a href="http://fairandbare.com">One of them has been a proper business too</a>. I&#8217;m able to do something and make it happen, to potentially tap a huge audience. Get them to that first step. The problem I have is, not a single one of these so much as turns a profit, though they serve as wonderful educational devices for me. I would hazard a guess that some of them have indirectly got me work.</p>
<p>Some of my ideas never get past the domain registration phase before being knocked on the head. A friend many years ago gave me the great quote that &#8216;My domains are my todo list&#8217;. This totally hits the nail on the head for me &#8211; if I&#8217;ve felt like an idea was good enough to make it to the registration phase, there&#8217;s something there worth pursuing. Unfortunately, I have quite a long list to work through.</p>
<p>I heard it said that &#8220;The Developer Dream&#8221; is that we (developers) &#8220;build a product/service which we&#8217;re able to earn a living from&#8221;. But the majority of developers I know, don&#8217;t even begin to pursue the ideas they have. This surprises me. </p>
<p>There seems to be such an abundance of opportunities that I can&#8217;t imagine not building my own ideas, however bad they might seem to others. </p>
<p>Why hold back? Time? Yes, we have other commitments &#8211; family, work and maybe even a hobby or two. I&#8217;m not suggesting we make drastic sacrifices or sell our kids in order to create stuff. I&#8217;d would however, like to think that the payoff for building our ideas might make our initial holdups seem insignificant longer term. <a href="http://www.ianwootten.co.uk/2012/05/03/if-you-build-it">I&#8217;ve said it before</a> and I can&#8217;t speak from as the voice of successful experience, but what do I get out of never trying?</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/hacking">hacking</a>,
                
                <a href="/tag/ideas">ideas</a>,
                
                <a href="/tag/webdev">webdev</a>,
                
              
              | <a href="2013/06/27/the-developer-dream/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2013/02/20/growing-a-business-with-developer-apis">Growing a Business with Developer APIs</a></h1>
      <div class="author_meta">20 Feb 2013</div>

          <p>Those of your you who follow me on twitter will might be aware of a <a href="http://loveletterd.com">single day hack I attempted last week</a>, which takes output from Lovefilm&#8217;s customer history and formats it so it can easily be imported into the lovely Letterboxd. It&#8217;s named <a href="http://loveletterd.com">Loveletterd</a> and it seemed entirely appropriate to release it on Valentines day.</p>
<p>After hearing that Letterboxd had created a CSV import tool for it&#8217;s community to use and as I&#8217;m a <a href="http://developer.lovefilm.com">Lovefilm developer</a>, I felt like it would be a great use of my time to get to work on Loveletterd. </p>
<p>Originally, I&#8217;d thought I&#8217;d use Lovefilm&#8217;s OAuth sign-on, grab past rentals for a user and create a CSV from it formatting to Letterboxd&#8217;s import structure. I&#8217;d completely forgotten about a bug I raised on the developer forums; almost 3 years earlier &#8211; highlighting that actually this was impossible due to a bug which didn&#8217;t read a supplied argument, subsequently limiting the number of rental titles returned as the history. What&#8217;s more infuriating is that no one from Lovefilm had replied, even though the problem was reiterated by others in the same and other threads. There&#8217;s many different threads which highlight numerous other issues, all of which receive no or very little response from the Lovefilm developer team.</p>
<p>This is an awful way to treat a community excited about building tools with your company data. If you don&#8217;t want to cushion the cost of supporting providing such an API yourself, don&#8217;t create one, or charge for access to it. Similar sentiment has been said about twitter recently on changing their API rendering it unusable for apps that have based their business models on it. Such is the feeling of discontent that it&#8217;s led to a niche for rivals.</p>
<p>Lovefilm&#8217;s API &#8220;gallery&#8221; of developer apps features the message </p>
<blockquote>
<p>&#8220;We will be placing details of the latest and greatest applications using our API here. Be sure to check this page regularly as new ideas are developed.&#8221;</p>
</blockquote>
<p>Which is also the same as 3 years ago, shortly after the API&#8217;s first release. Good work Lovefilm.</p>
<p>Remembering this, I walked away thinking, &#8220;Oh, well&#8221;, before going back to my workday. Explaining it to my wife, I realised there was another route to achieve what I wanted, which is what you see on the web now. Ultimately, this is nothing more than a bunch of regular expressions.</p>
<p>Admittedly, I&#8217;m aware there&#8217;s changes at Lovefilm &#8211; they&#8217;ve been entirely bought out by Amazon and I can imagine the new owners would want to integrate the company with their brand better. It seems as if they&#8217;ve already switched off new developer registrations, so I&#8217;d imagine the whole API will be turned off before long.</p>
<p>On the flip, take a look at where I want to take my data to &#8211; <a href="http://letterboxd.com">Letterboxd</a>. A site focused on film lovers and it shows. They&#8217;ve taken the route of paid pro accounts, which provide access to the <a href="http://letterboxd.com/about/importing-data/">import tools</a> I mentioned earlier. The majority of users won&#8217;t make use of this though; they just want to support a site providing a great service which is open and honest. They&#8217;re also planning on providing a full API, which I&#8217;ll be interested in playing with on release. As a result, I&#8217;m sure Letterboxd users will get a bunch of new toys they can use their accounts with that external developers decide to create.</p>
<p>The best thing though? They&#8217;re real people who talk to me. After letting them know about my little hack, I got thanks that same day from <a href="http://letterbox.com/about/crew">Matthew</a> of the Letterboxd crew, with a <a href="http://feedback.letterboxd.com/forums/136771-general/suggestions/2360263-add-lovefilm-imports">ticket closure</a> shortly thereafter. That beats 3 years of waiting.</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/films">films</a>,
                
                <a href="/tag/hacking">hacking</a>,
                
              
              | <a href="2013/02/20/growing-a-business-with-developer-apis/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2013/01/22/the-move-towards-static-websites">The Move Towards Static Websites</a></h1>
      <div class="author_meta">22 Jan 2013</div>

          <p>There&#8217;s some discussion on new podcast <a href="http://backtofrontshow.com">&#8220;The Back to Front Show&#8221;</a> on why of late we&#8217;re seeing so many static websites cropping up. It seem like now more than ever, we&#8217;re seeing both developers and designers jump ship to this way of working, having long been using database backed solutions (such as WordPress/Drupal) to manage their publishing. </p>
<p>When I talk about a static site, I think of it of raw HTML sat on a server and nothing else. However, it seems as if the industry has adopted the term to refer to sites created from tools which are capable of creating/emulating this HTML, whether it be a local, dropbox or a hosted/self-hosted solution. Typically both types of tool are powered through conversion of flat files into the markup which is served publicly. Through using them you can achieve something akin to a typical blog, without the need for a database (or possibly even a server-side language to power it).</p>
<p><strong>Pro&#8217;s</strong></p>
<p>Simplicity &#8211; Most of the draw toward toward such setups seems to be on the simplicity over flexibility. I can power a site with a minimal setup, but still regularly and simply update and maintain it, using a partial based environment. With a dropbox based solution, I just need to drop my flat files into a folder and everything is updated transparently. Mark Boulton <a href="http://markboulton.co.uk/journal/newblog-newcms">has previously written</a> about his requirements for writing on the web and why he went with <a href="http://statamic.com">Statamic</a>: </p>
<blockquote>
<p>&#8220;I wanted a way of simply publishing words, rather than getting all wrapped up in php, theming files and database problems.&#8221;</p>
</blockquote>
<p>Simplicity it seems, rules.</p>
<p>I previously <a href="http://www.ianwootten.co.uk/2011/09/09/hosting-an-octopress-blog-on-amazon-s3">wrote an article</a> on how you could publish using Octopress and Amazon&#8217;s S3 service. For anyone who has a relatively low traffic site, such a setup could also work out cheaper than a monthly hosting package.</p>
<p>Development Time &#8211; If you&#8217;re one for creating custom themes, a static site is also a much simpler solution than wrestling with styling the innerds of a full fledged cms. Typically posts are stored in markdown and can be styled along with assets using a partial templating system (eg. based on YAML or Liquid). Having recently developed a wordpress theme I can testify to the complexity of having to dig through documentation on function usage and to determine which template file should be modified to achieve what I want within a page.</p>
<p>Source Control &#8211; As <a href="http://rickhurst.co.uk">Rick</a> quite rightly points out below in the comments, having all your posts available in flat files makes them perfect for managing/backing up through your revision control tools of choice.</p>
<p><strong>Cons</strong></p>
<p>Customisation &#8211; For me, the big loss is the lack of flexibility. I hear everyone cry, &#8220;Well, duh &#8211; it&#8217;s static&#8221;. Without a server side language handling requests, I&#8217;m unable to schedule posts, handle comments, create forms or trigger email. If I intend on continuing to offer them, I have to find third party services to deal with each of these aspects. I&#8217;m well aware there&#8217;s services like disqus and wufoo that may solve some of these problems, but it seems like a major hassle to integrate each time something like this is required. It may be that this is just me, you may be perfectly happy using these solutions, or may not require them.</p>
<p>Remote publishing &#8211; When using a local based solution (e.g. Jekyll), you don&#8217;t have the option of blogging remotely, due to the lack of tools to create and push out your content. Gone are the days of being able to log into a site from your phone and add a small update. For me, this is less of an issue as I can&#8217;t recall if I&#8217;ve ever written a post in this way and try to be more methodical, less spontaneous about what I&#8217;m writing from the comfort of my desktop.</p>
<p><strong>Example Systems</strong></p>
<p>If you&#8217;re interested in running a static site, then I&#8217;ve listed a few that seem pretty popular at the time of writing, along with a brief list of their features.</p>
<p><a href="https://github.com/mojombo/jekyll">Jekyll</a> &#8211; Locally run, File based, Open source, Powers Github pages.<br><a href="http://octopress.org/">Octopress</a> &#8211; Locally run, Jekyll/File based, but with preconfigured HTML templates, CSS, Javascript, Open Source<br><a href="http://statamic.com">Statamic</a> &#8211; Self Hosted, File Based, License Required<br><a href="http://getkirby.com">Kirby</a> &#8211; Self Hosted, File based, jQuery inspired API, License Required<br><a href="http://staceyapp.com">Stacey</a> &#8211; Self hosted, File based, Open source<br><a href="http://scriptogr.am">Scriptogram</a> &#8211; Dropbox/File based</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/blogging">blogging</a>,
                
                <a href="/tag/blogs">blogs</a>,
                
              
              | <a href="2013/01/22/the-move-towards-static-websites/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2012/05/03/if-you-build-it">If You Build It</a></h1>
      <div class="author_meta">03 May 2012</div>

          <p>If my years in academia have taught me anything, it&#8217;s that insight obvious to you isn&#8217;t often obvious to others. </p>
<p>As a result, I&#8217;ve pretty much adopted a gung-ho hacker attitude towards getting my own ideas built whereby I&#8217;ll just often work to get an iteration of an site out as fast as possible. The only factor here is my own time and I&#8217;m in the fortunate position to have some of that available now and again. There&#8217;s a variety of reasons why I might attempt a project, ranging from it may later evolve into something able to draw an income further down the line, that I&#8217;m excited by learning from the tools I choose to use or that I feel moved enough by a problem to do something to try and prompt change. </p>
<p>I had one of these ideas last weekend, whereby I was wondering what the specifics of the fees of kickstarter projects broke down to. The information on what fees are taken is published <a href="http://www.kickstarter.com/help/faq/creating%20a%20project#WhatFeesDoesKickChar" title="what fees does kickstarter charge">on their site</a>, so I set about a simple phantomjs script (available <a href="https://github.com/niftydigits/kickstarter.js">on github</a>) that could scrape the information from kickstarter. After doing so, the idea moved on to graphing said information via an app to a simple raphaeljs and again further once I&#8217;d realised some other stats that could be gathered from the info I was grabbing. The end result is <a href="http://starterstats.com">Starter Stats</a> &#8211; which is, (I think) a neat little site for showing stats on any kickstarter project.</p>
<p><a href="http://starterstats.com/projects/597507018/pebble-e-paper-watch-for-iphone-and-android"><img src="http://www.ianwootten.co.uk/wp-content/uploads/2012/05/Screen-Shot-2012-05-03-at-10.16.42-1024x817.png" alt="" title="Starter Stats" width="640" height="510" class="alignnone size-large wp-image-536" /></a></p>
<p>It took a little longer than I&#8217;d hoped, but I&#8217;m really pleased with the final site as it stands. You should also be able to just replace the beginning of any kickstarter project page (<a href="http://kickstarter.com">http://kickstarter.com</a>) with &#8220;<a href="http://starterstats.com&amp;#8221">http://starterstats.com&amp;#8221</a>; and you&#8217;ll be sent to the relevant stats page on the app. Pages are generated on-demand every 15 minutes. Go on, take a look and let me know what you think.</p>
<p>I could have not spent my time on this, instead kicking back and waiting for someone else to build such a tool. But I couldn&#8217;t see that happening. No, better for me to build, learn whilst doing so and move on to my next project. What do you get by not building?</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/kickstarter">kickstarter</a>,
                
                <a href="/tag/phantomjs">phantomjs</a>,
                
                <a href="/tag/raphaeljs">raphaeljs</a>,
                
              
              | <a href="2012/05/03/if-you-build-it/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      

      <div class="pagination">
          
          <span class="page_number ">Page: 1 of 5</span>

          
          <a href="/category/Web-Apps/page/2" class="next">Next</a>
          
      </div>
    <footer>
      <div class="footer-about">
        I'm a Web Developer  working at <a href="http://niftydigits.com">Nifty Digits</a> in Cardiff, UK. Here, I enjoy talking code - mostly Python/Javascript. I'm <a href="http://twitter.com/iwootten">@iwootten</a> on twitter.
      </div>
    </footer>
  </div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'ianwootten'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
</body>
</html>

