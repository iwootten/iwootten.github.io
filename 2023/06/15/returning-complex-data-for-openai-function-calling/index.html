<!DOCTYPE html>
<html lang="en" class="motion-safe:scroll-smooth 2xl:text-[20px]">
	<head>
		<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Returning Complex Data for OpenAI Function Calling — Ian Wootten</title>
<meta name="robots" content="index,follow" />
<meta name="description" content="OpenAI's new function calling updates are able to return more complex return types than you might think." />
<meta name="twitter:card" content="summary_large_image" />
<meta property="og:title" content="Returning Complex Data for OpenAI Function Calling" />
<meta property="og:description" content="OpenAI's new function calling updates are able to return more complex return types than you might think." />
<meta property="og:url" content="https://www.ianwootten.co.uk/2023/06/15/returning-complex-data-for-openai-function-calling/" />
<meta property="og:type" content="article" />
<meta property="og:image" content="https://www.ianwootten.co.uk/assets/opengraph.48f89d27.png" />
<meta property="og:image:alt" content="Returning Complex Data for OpenAI Function Calling" />
<link rel="canonical" href="https://www.ianwootten.co.uk/2023/06/15/returning-complex-data-for-openai-function-calling/" />


<!-- Or Google Fonts -->

<meta name="google-site-verification" content="orcPxI47GSa-cRvY11tUe6iGg2IO_RPvnA1q95iEM3M">



<script defer data-domain="ianwootten.co.uk" src="https://analytics.niftydigits.com/js/plausible.js"></script>

<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="mask-icon" href="/favicon.svg" color="#8D46E7">


	<link rel="stylesheet" href="/assets/_...page_.0987525b.css" />
<link rel="stylesheet" href="/assets/_slug_.7cc5c313.css" />
<link rel="stylesheet" href="/assets/index.a49322ed.css" /><script type="module">class c extends HTMLElement{connectedCallback(){this.videoId=this.getAttribute("videoid");let e=this.querySelector(".lty-playbtn");if(this.playLabel=e&&e.textContent.trim()||this.getAttribute("playlabel")||"Play",this.style.backgroundImage||(this.posterUrl=`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`,c.addPrefetch("preload",this.posterUrl,"image"),this.style.backgroundImage=`url("${this.posterUrl}")`),e||(e=document.createElement("button"),e.type="button",e.classList.add("lty-playbtn"),this.append(e)),!e.textContent){const t=document.createElement("span");t.className="lyt-visually-hidden",t.textContent=this.playLabel,e.append(t)}this.addEventListener("pointerover",c.warmConnections,{once:!0}),this.addEventListener("click",t=>this.addIframe())}static addPrefetch(e,t,o){const n=document.createElement("link");n.rel=e,n.href=t,o&&(n.as=o),document.head.append(n)}static warmConnections(){c.preconnected||(c.addPrefetch("preconnect","https://www.youtube-nocookie.com"),c.addPrefetch("preconnect","https://www.google.com"),c.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),c.addPrefetch("preconnect","https://static.doubleclick.net"),c.preconnected=!0)}addIframe(){const e=new URLSearchParams(this.getAttribute("params")||[]);e.append("autoplay","1");const t=document.createElement("iframe");t.width=560,t.height=315,t.title=this.playLabel,t.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",t.allowFullscreen=!0,t.src=`https://www.youtube-nocookie.com/embed/${encodeURIComponent(this.videoId)}?${e.toString()}`,this.append(t),this.classList.add("lyt-activated"),this.querySelector("iframe").focus()}}customElements.define("lite-youtube",c);class a extends HTMLElement{videoId;static preconnected=!1;connectedCallback(){this.videoId=encodeURIComponent(this.dataset.id),this.addEventListener("pointerover",a.warmConnections,{once:!0}),this.addEventListener("click",e=>this.addIframe(e))}static addPrefetch(e,t){const o=document.createElement("link");o.rel=e,o.href=t,document.head.append(o)}static warmConnections(){a.preconnected||(a.addPrefetch("preconnect","https://player.vimeo.com"),a.addPrefetch("preconnect","https://i.vimeocdn.com"),a.addPrefetch("preconnect","https://f.vimeocdn.com"),a.addPrefetch("preconnect","https://fresnel.vimeocdn.com"),a.preconnected=!0)}addIframe(e){if(this.classList.contains("ltv-activated"))return;e.preventDefault(),this.classList.add("ltv-activated");const t=encodeURIComponent(this.dataset.t||"0m"),o=new URLSearchParams(this.dataset.params||[]),n=document.createElement("iframe");n.width="640",n.height="360",n.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",n.allowFullscreen=!0,n.src=`https://player.vimeo.com/video/${this.videoId}?${o.toString()}#t=${t}`,this.append(n)}}customElements.define("lite-vimeo",a);
</script>
<script>!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.7.3 - MIT builder.io */
!function(t,e,n,i,r,o,a,d,s,c,p,l){function u(){l||(l=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(w,1e4),e.addEventListener("pt0",f),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):w())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.7.3":"sandbox-sw.html?"+Date.now()),e.body.appendChild(c)}function w(t,n){for(f(),t=0;t<s.length;t++)(n=e.createElement("script")).innerHTML=s[t].innerHTML,e.head.appendChild(n);c&&c.parentNode.removeChild(c)}function f(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){p=t,e.split(".").map((function(e,n,i){p=p[i[n]]=n+1<i.length?"push"==i[n+1]?[]:p[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);</script></head>

	<body class="antialiased text-gray-900 dark:text-slate-300 tracking-tight bg-white dark:bg-slate-900">
		<header class="sticky top-0 z-40 flex-none mx-auto w-full bg-white md:bg-white/90 dark:bg-slate-900 dark:md:bg-slate-900/90 md:backdrop-blur-sm border-b dark:border-b-0">
	<div class="py-3 px-3 mx-auto w-full md:flex md:justify-between max-w-6xl md:px-4">
		<div class="flex justify-between">
			<a class="flex items-center" href="/">
				<span class="self-center ml-2 text-2xl font-extrabold text-gray-900 whitespace-nowrap dark:text-white">
	💻&nbsp;&nbsp;Ian Wootten</span>
			</a>
			<div class="flex items-center md:hidden">
				<button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-aw-toggle-color-scheme>
	<svg viewBox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:sun"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="12" cy="12" r="4"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></g></svg>
</button>
				<button type="button" class="ml-1.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center transition" aria-label="Toggle Menu" data-aw-toggle-menu>
	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:menu"><g class="icon-tabler" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 8h16"/><path d="M4 16h16"/></g></svg>
</button>
			</div>
		</div>
		<nav class="items-center w-full md:w-auto hidden md:flex text-gray-600 dark:text-slate-200 h-screen md:h-auto" aria-label="Main navigation" id="menu">
			<ul class="flex flex-col pt-8 md:pt-0 md:flex-row md:self-center w-full md:w-auto collapsed text-xl md:text-base">
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/blog/">Blog</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/about/">About</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/work-with-me/">Work With Me</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://niftydigits.gumroad.com/">Products
					</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://newsletter.ianwootten.co.uk">Newsletter
					</a>
				</li>
				<li class="md:hidden">
					<a class="font-bold hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://www.youtube.com/IanWootten?sub_confirmation=1">YouTube
					</a>
				</li>
				<li class="md:hidden">
					<a class="font-bold hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://github.com/iwootten">Github
					</a>
				</li>
			</ul>
			<div class="md:self-center flex items-center mb-4 md:mb-0 ml-2">
				<div class="hidden items-center md:flex">
					<button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-aw-toggle-color-scheme>
	<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:sun"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="12" cy="12" r="4"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></g></svg>
</button>
					<a href="https://www.youtube.com/IanWootten?sub_confirmation=1" class="inline-block text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5" aria-label="Ian's YouTube Channel">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-youtube"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><rect width="18" height="14" x="3" y="5" rx="4"/><path d="m10 9 5 3-5 3z"/></g></svg>
					</a>
					<a href="https://github.com/iwootten" class="inline-block text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5" aria-label="Ian's Github">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
					</a>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="RSS Feed" href="/rss.xml">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:rss"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"/></g></svg>
					</a>
				</div>
			</div>
		</nav>
	</div>
</header><main>
		<section class="py-8 sm:py-16 lg:py-20 mx-auto">
	<article>
		<header>
			<p class="max-w-3xl mx-auto text-center">
				<time datetime="2023-06-15T10:09:00.000Z">Jun 15, 2023</time> ~ 5 min read
			</p>
			<h1 class="px-4 sm:px-6 max-w-3xl mx-auto text-center text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-8 font-heading">
				Returning Complex Data for OpenAI Function Calling
			</h1>
			<div class="container text-center mx-auto px-8 sm:px-6 max-w-3xl mt-8">
				<ul class="text-sm">
			<li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/ai/">ai</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/gpt/">gpt</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/openai/">openai</a>
				</li>
		</ul>
			</div>
			
		</header>
		<div class="container mx-auto px-6 sm:px-6 max-w-3xl prose prose-lg lg:prose-xl dark:prose-invert dark:prose-headings:text-slate-300 prose-md prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-primary-600 dark:prose-a:text-primary-400 prose-img:rounded-md prose-img:shadow-lg mt-8">
			<lite-youtube videoid="9dSgp4MWpQ0" class="mx-auto" style="background-image: url('https://i.ytimg.com/vi/9dSgp4MWpQ0/hqdefault.jpg');"></lite-youtube>


<p>OpenAI recently announced an important feature for developers using their API - <a href="https://platform.openai.com/docs/guides/gpt/function-calling">function calling</a>. Using a new model, we are now able to return structured data from natural language giving the ability to more easily call out to APIs.</p>
<p>The main example that OpenAI gave calls out to a weather API. Here a function is described which returns a simple object type with two properties, location and unit. I’ve included it below for reference.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> openai</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">response </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> openai.ChatCompletion.create(</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FFA657">model</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;gpt-3.5-turbo-0613&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FFA657">messages</span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9">[{</span><span style="color:#A5D6FF">&quot;role&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;user&quot;</span><span style="color:#C9D1D9">, </span><span style="color:#A5D6FF">&quot;content&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;What&#39;s the weather like in Boston?&quot;</span><span style="color:#C9D1D9">}],</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FFA657">functions</span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9">[</span></span>
<span class="line"><span style="color:#C9D1D9">        {</span></span>
<span class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">&quot;name&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;get_current_weather&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">&quot;description&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;Get the current weather in a given location&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">&quot;parameters&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;object&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                </span><span style="color:#A5D6FF">&quot;properties&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                    </span><span style="color:#A5D6FF">&quot;location&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                        </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;string&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                        </span><span style="color:#A5D6FF">&quot;description&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;The city and state, e.g. San Francisco, CA&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                    },</span></span>
<span class="line"><span style="color:#C9D1D9">                    </span><span style="color:#A5D6FF">&quot;unit&quot;</span><span style="color:#C9D1D9">: {</span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;string&quot;</span><span style="color:#C9D1D9">, </span><span style="color:#A5D6FF">&quot;enum&quot;</span><span style="color:#C9D1D9">: [</span><span style="color:#A5D6FF">&quot;celsius&quot;</span><span style="color:#C9D1D9">, </span><span style="color:#A5D6FF">&quot;fahrenheit&quot;</span><span style="color:#C9D1D9">]},</span></span>
<span class="line"><span style="color:#C9D1D9">                },</span></span>
<span class="line"><span style="color:#C9D1D9">                </span><span style="color:#A5D6FF">&quot;required&quot;</span><span style="color:#C9D1D9">: [</span><span style="color:#A5D6FF">&quot;location&quot;</span><span style="color:#C9D1D9">],</span></span>
<span class="line"><span style="color:#C9D1D9">            },</span></span>
<span class="line"><span style="color:#C9D1D9">        }</span></span>
<span class="line"><span style="color:#C9D1D9">    ],</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FFA657">function_call</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;auto&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">)</span></span></code></pre>
<p>When given the input “What is the weather like in boston?”, it’s able to parse the location, determine the unit isn’t required and return a JSON structure that can be used for the function call.</p>
<h2 id="returning-collections-of-objects">Returning Collections of Objects</h2>
<p>One of the points that seems to have been overlooked from the basic example OpenAI gave of this feature is it has the ability to generate fairly complex data structures from requests.</p>
<p>In the following example I ask for music suggestions an array of track objects, that <em>each</em> are objects themselves with an artist and trackname.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> openai</span></span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> os</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">openai.api_key </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> os.getenv(</span><span style="color:#A5D6FF">&quot;OPENAI_SECRET_KEY&quot;</span><span style="color:#C9D1D9">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">example_input </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;Recommend me a tracklist of 20 tracks and remixes from 2019 in the relaxing, deep house genre. Don&#39;t include tracks that are over 15 mins long.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">completion </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> openai.ChatCompletion.create(</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FFA657">model</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;gpt-3.5-turbo-0613&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FFA657">messages</span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9">[</span></span>
<span class="line"><span style="color:#C9D1D9">        {</span></span>
<span class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">&quot;role&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;user&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">&quot;content&quot;</span><span style="color:#C9D1D9">: example_input,</span></span>
<span class="line"><span style="color:#C9D1D9">        }</span></span>
<span class="line"><span style="color:#C9D1D9">    ],</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FFA657">functions</span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9">[</span></span>
<span class="line"><span style="color:#C9D1D9">        {</span></span>
<span class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">&quot;name&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;get_tracklist&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">&quot;description&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;Gets a list of tracks from a query.&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">&quot;parameters&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;object&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                </span><span style="color:#A5D6FF">&quot;properties&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                    </span><span style="color:#A5D6FF">&quot;tracklist&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                        </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;array&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                        </span><span style="color:#A5D6FF">&quot;items&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                            </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;object&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                            </span><span style="color:#A5D6FF">&quot;properties&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                                </span><span style="color:#A5D6FF">&quot;artist&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                                    </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;string&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                                    </span><span style="color:#A5D6FF">&quot;description&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;The artist of the track.&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                                },</span></span>
<span class="line"><span style="color:#C9D1D9">                                </span><span style="color:#A5D6FF">&quot;title&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">                                    </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;string&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                                    </span><span style="color:#A5D6FF">&quot;description&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;The title of the track.&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">                                },</span></span>
<span class="line"><span style="color:#C9D1D9">                            }</span></span>
<span class="line"><span style="color:#C9D1D9">                        },</span></span>
<span class="line"><span style="color:#C9D1D9">                    },</span></span>
<span class="line"><span style="color:#C9D1D9">                },</span></span>
<span class="line"><span style="color:#C9D1D9">                </span><span style="color:#A5D6FF">&quot;required&quot;</span><span style="color:#C9D1D9">: [</span><span style="color:#A5D6FF">&quot;tracklist&quot;</span><span style="color:#C9D1D9">],</span></span>
<span class="line"><span style="color:#C9D1D9">            }</span></span>
<span class="line"><span style="color:#C9D1D9">        }</span></span>
<span class="line"><span style="color:#C9D1D9">    ],</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FFA657">function_call</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;auto&quot;</span></span>
<span class="line"><span style="color:#C9D1D9">)</span></span>
<span class="line"><span style="color:#79C0FF">print</span><span style="color:#C9D1D9">(completion)</span></span></code></pre>
<p>Which gives us a response like this:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#c9d1d9">{</span></span>
<span class="line"><span style="color:#c9d1d9">  &quot;id&quot;: &quot;chatcmpl-7RJeo32PyJxRUqeeWajCSOhrD4vBw&quot;,</span></span>
<span class="line"><span style="color:#c9d1d9">  &quot;object&quot;: &quot;chat.completion&quot;,</span></span>
<span class="line"><span style="color:#c9d1d9">  &quot;created&quot;: 1686744774,</span></span>
<span class="line"><span style="color:#c9d1d9">  &quot;model&quot;: &quot;gpt-3.5-turbo-0613&quot;,</span></span>
<span class="line"><span style="color:#c9d1d9">  &quot;choices&quot;: [</span></span>
<span class="line"><span style="color:#c9d1d9">    {</span></span>
<span class="line"><span style="color:#c9d1d9">      &quot;index&quot;: 0,</span></span>
<span class="line"><span style="color:#c9d1d9">      &quot;message&quot;: {</span></span>
<span class="line"><span style="color:#c9d1d9">        &quot;role&quot;: &quot;assistant&quot;,</span></span>
<span class="line"><span style="color:#c9d1d9">        &quot;content&quot;: null,</span></span>
<span class="line"><span style="color:#c9d1d9">        &quot;function_call&quot;: {</span></span>
<span class="line"><span style="color:#c9d1d9">          &quot;name&quot;: &quot;get_tracklist&quot;,</span></span>
<span class="line"><span style="color:#c9d1d9">          &quot;arguments&quot;: &quot;{\n  \&quot;tracklist\&quot;: [\n    {\n      \&quot;artist\&quot;: \&quot;Lane 8\&quot;,\n      \&quot;title\&quot;: \&quot;Sunday Song\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Catching Flies\&quot;,\n      \&quot;title\&quot;: \&quot;Satisfied\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Cubicolor\&quot;,\n      \&quot;title\&quot;: \&quot;Points Beyond\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;TSHA\&quot;,\n      \&quot;title\&quot;: \&quot;Sacred\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Bonobo\&quot;,\n      \&quot;title\&quot;: \&quot;Linked\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Yotto\&quot;,\n      \&quot;title\&quot;: \&quot;Turn It Around\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Oona Dahl\&quot;,\n      \&quot;title\&quot;: \&quot;Godtripper\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Mathame\&quot;,\n      \&quot;title\&quot;: \&quot;Skywalking\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Bicep\&quot;,\n      \&quot;title\&quot;: \&quot;Glue\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Amtrac\&quot;,\n      \&quot;title\&quot;: \&quot;Never Lost\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Luttrell\&quot;,\n      \&quot;title\&quot;: \&quot;After All\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Durante\&quot;,\n      \&quot;title\&quot;: \&quot;Maia\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Tourist\&quot;,\n      \&quot;title\&quot;: \&quot;Gin Under the Sink\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Yotto\&quot;,\n      \&quot;title\&quot;: \&quot;Nova\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Lane 8\&quot;,\n      \&quot;title\&quot;: \&quot;Visions\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Christian L\u00f6ffler\&quot;,\n      \&quot;title\&quot;: \&quot;Ry\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Catching Flies\&quot;,\n      \&quot;title\&quot;: \&quot;Komorebi\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Bonobo\&quot;,\n      \&quot;title\&quot;: \&quot;Ibrik\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;TSHA\&quot;,\n      \&quot;title\&quot;: \&quot;Moon\&quot;\n    },\n    {\n      \&quot;artist\&quot;: \&quot;Cubicolor\&quot;,\n      \&quot;title\&quot;: \&quot;No Dancers\&quot;\n    }\n  ]\n}&quot;</span></span>
<span class="line"><span style="color:#c9d1d9">        }</span></span>
<span class="line"><span style="color:#c9d1d9">      },</span></span>
<span class="line"><span style="color:#c9d1d9">      &quot;finish_reason&quot;: &quot;function_call&quot;</span></span>
<span class="line"><span style="color:#c9d1d9">    }</span></span>
<span class="line"><span style="color:#c9d1d9">  ],</span></span>
<span class="line"><span style="color:#c9d1d9">  &quot;usage&quot;: {</span></span>
<span class="line"><span style="color:#c9d1d9">    &quot;prompt_tokens&quot;: 97,</span></span>
<span class="line"><span style="color:#c9d1d9">    &quot;completion_tokens&quot;: 437,</span></span>
<span class="line"><span style="color:#c9d1d9">    &quot;total_tokens&quot;: 534</span></span>
<span class="line"><span style="color:#c9d1d9">  }</span></span>
<span class="line"><span style="color:#c9d1d9">}</span></span></code></pre>
<p>We can use json.loads to format the “arguments” response a bit more nicely, since it’s returned as a string.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">{</span><span style="color:#FFA198">&#39;tracklist&#39;</span><span style="color:#C9D1D9">: [{</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Lane</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">8</span><span style="color:#FFA198">&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Sunday</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Song&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Catching</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Flies&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Satisfied&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Cubicolor&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Points</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Beyond&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;TSHA&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Sacred&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Bonobo&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Linked&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Yotto&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Turn</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">It</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Around&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Oona</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Dahl&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Godtripper&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Mathame&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Skywalking&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Bicep&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Glue&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Amtrac&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Never</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Lost&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Luttrell&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;After</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">All&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Durante&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Maia&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Tourist&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Gin</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Under</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">the</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Sink&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Yotto&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Nova&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Lane</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">8</span><span style="color:#FFA198">&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Visions&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Christian</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Löffler&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Ry&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Catching</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Flies&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Komorebi&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Bonobo&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Ibrik&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;TSHA&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Moon&#39;</span><span style="color:#C9D1D9">}, {</span><span style="color:#FFA198">&#39;artist&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;Cubicolor&#39;</span><span style="color:#C9D1D9">, </span><span style="color:#FFA198">&#39;title&#39;</span><span style="color:#C9D1D9">: </span><span style="color:#FFA198">&#39;No</span><span style="color:#C9D1D9"> </span><span style="color:#FFA198">Dancers&#39;</span><span style="color:#C9D1D9">}]}</span></span></code></pre>
<h2 id="how-this-helps">How this Helps</h2>
<p>Previously, we would have needed to explain to GPT via a prompt how it should structure data in a particular way <em>and we’d need to parse it</em> once it’s returned. Here we’ve got a nice JSON collection we can work with straight away, no parsing necessary.</p>
<p>The great thing about this is that it’s very easy to add new properties to my child object. Say I also want to get details of the music label each artist is from too. I can simply add it as a property and it will now be returned. Previously this would involve creating a new prompt description and parsing the response, with function calls it is simply adding a type description.</p>
<p>The tradeoff to using the new model is cost, whilst OpenAI announced price reductions for input tokens, completion token prices remain the same. If you modify existing calls to use the new function call API it is possible that the amount of completion tokens you’ll use will actually increase. In my own tracklist example here after making the changes to use function calling the number of completion tokens approximately doubled.</p>
		</div>
	</article>
	<section class="relative astro-WD4BLOGM">
	<div class="max-w-6xl mx-auto px-4 sm:px-6 astro-WD4BLOGM">
		<div class="py-12 md:py-20 astro-WD4BLOGM">
			<div class="max-w-3xl mx-auto text-center p-6 rounded-md shadow-xl dark:shadow-none astro-WD4BLOGM">
				<h2 class="text-4xl md:text-4xl font-bold leading-tighter tracking-tighter mb-4 font-heading astro-WD4BLOGM">
					Subscribe for more
				</h2>
				<p class="text-xl text-gray-600 dark:text-slate-400 astro-WD4BLOGM">
					My monthly newsletter is stuffed with helpful articles, tools and code. No spam, unsubscribe any time. 
				</p>

				<div class="mt-6 astro-WD4BLOGM">
					<script defer src="https://unpkg.com/@tryghost/portal@latest/umd/portal.min.js" data-ghost="https://newsletter.ianwootten.co.uk" data-api="https://newsletter.ianwootten.co.uk/ghost/api/content/" data-key="e8ef5be0fe96aacc76c64de1ed"></script>
					<form class="text-right astro-WD4BLOGM" data-members-form>
						<input class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm dark:placeholder-slate-700 dark:text-slate-900 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 astro-WD4BLOGM" placeholder="Your email address..." type="email" name="email" required="true" data-members-email>
						<button class="mt-3 btn text-white bg-primary-600 hover:bg-primary-800 mb-4 sm:mb-0 astro-WD4BLOGM" type="submit">Subscribe</button>
						<strong class="feedback astro-WD4BLOGM">Thanks so much! Check your inbox for an activation link.</strong>
					</form>
				</div>
			</div>
		</div>
	</div>
</section>
</section>
	</main><footer class="border-t border-gray-200 dark:border-slate-800">
	<div class="max-w-6xl mx-auto px-4 sm:px-6">
		<div class="md:flex md:items-center md:justify-between py-6 md:py-8">
			<ul class="flex mb-4 md:order-1 -ml-2 md:ml-4 md:mb-0">
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Twitter" href="https://twitter.com/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-twitter"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 0 0 .497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="YouTube" href="https://youtube.com/IanWootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-youtube"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><rect width="18" height="14" x="3" y="5" rx="4"/><path d="m10 9 5 3-5 3z"/></g></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Github" href="https://github.com/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="LinkedIn" href="https://linkedin.com/in/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><rect width="16" height="16" x="4" y="4" rx="2"/><path d="M8 11v5M8 8v.01M12 16v-5M16 16v-3a2 2 0 0 0-4 0"/></g></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="RSS" href="/rss.xml">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:rss"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"/></g></svg>
					</a>
				</li>
			</ul>
			<div class="text-sm text-gray-700 mr-4 dark:text-slate-400">
				&copy; 2003-2023 Ian Wootten
			</div>
		</div>
	</div>
</footer>
		<script>
	// Set "light" theme as default
	// if (!localStorage.theme) {
	//   localStorage.theme = "light";
	// }

	if (
		localStorage.theme === 'dark' ||
		(!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
	) {
		document.documentElement.classList.add('dark');
	} else {
		document.documentElement.classList.remove('dark');
	}

	function attachEvent(selector, event, fn) {
		const matches = document.querySelectorAll(selector);
		if (matches && matches.length) {
			matches.forEach((elem) => {
				elem.addEventListener(event, () => fn(elem), false);
			});
		}
	}

	window.onload = function () {
		attachEvent('[data-aw-toggle-menu]', 'click', function (elem) {
			elem.classList.toggle('expanded');
			document.body.classList.toggle('overflow-hidden');
			document.getElementById('menu')?.classList.toggle('hidden');
		});

		attachEvent('[data-aw-toggle-color-scheme]', 'click', function () {
			document.documentElement.classList.toggle('dark');
			localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
		});
	};
	window.onpageshow = function () {
		const elem = document.querySelector('[data-aw-toggle-menu]');
		if (elem) {
			elem.classList.remove('expanded');
		}
		document.body.classList.remove('overflow-hidden');
		document.getElementById('menu')?.classList.add('hidden');
	};
</script>

		
	</body>
</html>