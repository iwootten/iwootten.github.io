<!DOCTYPE html>
<html lang="en">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.83.0" />

    
    
    

<title>How to Set the Locale Used in Cypress Tests - Ian Wootten</title>
<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/www.ianwootten.co.uk"
    },
    "articleSection" : "posts",
    "name" : "How to Set the Locale Used in Cypress Tests",
    "headline" : "How to Set the Locale Used in Cypress Tests",
    "description" : "When running some Cypress tests in Github Actions that were inspecting dates recently, I wanted to be able to set the locale of the browser - specifically for Chrome which I was using with Cypress.\nThe tests checked the date format of dd\/mm\/yyyy and ran fine locally in my own locale of Great Britain, but when my Github action workflow executed them they appeared in a mm\/dd\/yyyy format.\nOriginally, I’d thought this require a step within setting up the github action environment itself which set my linux box to have the appropriate locale, but this doesn’t change anything - presumably because the Cypress github action runs in a separate step.",
    "inLanguage" : "en-US",
    "author" : "",
    "creator" : "",
    "publisher": "",
    "accountablePerson" : "",
    "copyrightHolder" : "",
    "copyrightYear" : "2022",
    "datePublished": "2022-07-26 10:24:00 \u002b0000 UTC",
    "dateModified" : "2022-07-26 10:24:00 \u002b0000 UTC",
    "url" : "https:\/\/www.ianwootten.co.uk\/2022\/07\/26\/how-to-set-the-locale-used-in-cypress-tests\/",
    "wordCount" : "192",
    "keywords" : [ "cypress","github actions","js","Blog" ]
}
</script>
<meta name="description" content="When running some Cypress tests in Github Actions that were inspecting dates recently, I wanted to be able to set the locale of the browser - specifically for Chrome which I was using with Cypress.
The tests checked the date format of dd/mm/yyyy and ran fine locally in my own locale of Great Britain, but when my Github action workflow executed them they appeared in a mm/dd/yyyy format.
Originally, I’d thought this require a step within setting up the github action environment itself which set my linux box to have the appropriate locale, but this doesn’t change anything - presumably because the Cypress github action runs in a separate step.">
<meta name="keywords" content="Developer, Programming, Python, Terraform, Serverless, VueJS, Cardiff">
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.ianwootten.co.uk/images/how-to-set-cypress-locale/og.jpg"/>

<meta name="twitter:title" content="How to Set the Locale Used in Cypress Tests"/>
<meta name="twitter:description" content="When running some Cypress tests in Github Actions that were inspecting dates recently, I wanted to be able to set the locale of the browser - specifically for Chrome which I was using with Cypress.
The tests checked the date format of dd/mm/yyyy and ran fine locally in my own locale of Great Britain, but when my Github action workflow executed them they appeared in a mm/dd/yyyy format.
Originally, I’d thought this require a step within setting up the github action environment itself which set my linux box to have the appropriate locale, but this doesn’t change anything - presumably because the Cypress github action runs in a separate step."/>

<meta property="og:title" content="How to Set the Locale Used in Cypress Tests" />
<meta property="og:description" content="When running some Cypress tests in Github Actions that were inspecting dates recently, I wanted to be able to set the locale of the browser - specifically for Chrome which I was using with Cypress.
The tests checked the date format of dd/mm/yyyy and ran fine locally in my own locale of Great Britain, but when my Github action workflow executed them they appeared in a mm/dd/yyyy format.
Originally, I’d thought this require a step within setting up the github action environment itself which set my linux box to have the appropriate locale, but this doesn’t change anything - presumably because the Cypress github action runs in a separate step." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.ianwootten.co.uk/2022/07/26/how-to-set-the-locale-used-in-cypress-tests/" /><meta property="og:image" content="https://www.ianwootten.co.uk/images/how-to-set-cypress-locale/og.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-26T10:24:00&#43;00:00" />
<meta property="article:modified_time" content="2022-07-26T10:24:00&#43;00:00" />



    


<link rel="stylesheet" href="https://www.ianwootten.co.uk/css/hyde-hyde.css">
<link rel="stylesheet" href="https://www.ianwootten.co.uk/css/print.css" media="print">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.ianwootten.co.uk/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="https://www.ianwootten.co.uk/favicon.png">
    

    <script async defer data-domain="ianwootten.co.uk" src="https://analytics.niftydigits.com/js/plausible.js"></script>
</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://www.ianwootten.co.uk">Ian Wootten</a>
      </span>
      
      
      
      <div class="author-image">
        <a href="https://www.ianwootten.co.uk"><img src="https://www.ianwootten.co.uk/images/headshot.jpg" alt="Author Image" class="img--circle img--headshot element--center" width="115px" height="115px"></a>
      </div>
      
      <p class="site__description">
         Software Developer, Cardiff 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Ian Wootten</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="https://www.ianwootten.co.uk/about/">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://www.ianwootten.co.uk/hire-me/">
						<span>Hire Me</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://niftydigits.gumroad.com">
						<span>Products</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://www.getrevue.co/profile/iwootten">
						<span>Subscribe</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/iwootten" rel="me"><i alt="My Twitter profile" class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://youtube.com/channel/UCIrmOddTgfsohRAHrJ5ltrA" rel="me"><i alt="My youtube channel" class="fab fa-youtube fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/iwootten" rel="me"><i alt="My Github profile" class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	<a href="https://linkedin.com/in/iwootten" rel="me"><i alt="My linkedin profile" class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://stackoverflow.com/users/1405701" rel="me"><i alt="My stackoverflow profile" class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
</section>

      </div>
    </div>
    <p class="copyright">
      &copy;2003-2022 Ian Wootten
    </p>
  </div>
  <div>
  </div>
</div>

        <div class="content container">
            
    <article>
  <header>
    <h1><a href="https://www.ianwootten.co.uk/2022/07/26/how-to-set-the-locale-used-in-cypress-tests/">How to Set the Locale Used in Cypress Tests</a></h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jul 26, 2022
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="https://www.ianwootten.co.uk/categories/development">DEVELOPMENT</a>
              •
          
              <a class="badge badge-category" href="https://www.ianwootten.co.uk/categories/tips">TIPS</a>
              
          
      
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/cypress">cypress</a>
           
      
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/github-actions">github actions</a>
           
      
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/js">js</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 1 min read
</div>


  </header>
  
  
  <div class="post">
    <p>When running some Cypress tests in Github Actions that were inspecting dates recently, I wanted to be able to set the locale of the browser - specifically for Chrome which I was using with Cypress.</p>
<p>The tests checked the date format of dd/mm/yyyy and ran fine locally in my own locale of Great Britain, but when my Github action workflow executed them they appeared in a mm/dd/yyyy format.</p>
<p>Originally, I’d thought this require a step within setting up the github action environment itself which set my linux box to have the appropriate locale, but this doesn’t change anything - presumably because the Cypress github action runs in a separate step.</p>
<p>Turns out it is possible, but by using the chrome devtools protocol.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#75715e">// cypress/support/index.js
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">Cypress</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;test:before:run&#34;</span>, () <span style="color:#f92672">=&gt;</span> {
  <span style="color:#a6e22e">Cypress</span>.<span style="color:#a6e22e">automation</span>(<span style="color:#e6db74">&#34;remote:debugger:protocol&#34;</span>, {
    <span style="color:#a6e22e">command</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Emulation.setLocaleOverride&#34;</span>,
    <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span> {
      <span style="color:#a6e22e">locale</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;en-GB&#34;</span>,
    },
  });
});
</code></pre></div><p>Source: <a href="https://github.com/cypress-io/cypress/issues/7890">https://github.com/cypress-io/cypress/issues/7890</a></p>
<form action="https://www.getrevue.co/profile/iwootten/add_subscriber" method="post" id="revue-form" name="revue-form"
  target="_blank" style="background: #e7daf1; padding: 1rem; margin-top: 2rem; border: 2px solid #300030;">
  <h4 style="margin-top:0">Get Updates to Your Inbox</h4>
  <p>My <a href="https://www.getrevue.co/profile/iwootten">newsletter</a> comes out every month and is stuffed with helpful stories, tools and code showing how developers like yourself ship efficiently. It
    also
    features articles and
    videos I've recently published so you'll never miss out.
  <p>

  <p>No spam, unsubscribe any time. Check out <a href="https://www.getrevue.co/profile/iwootten">previous issues
      here</a>.
  </p>
  <div class="revue-form-group">
    <input class="revue-form-field" placeholder="Your email address..." type="email" name="member[email]"
      id="member_email" style="width: 100%;font-size: 20px;">
  </div>
  <div class="revue-form-actions">
    <input type="submit" value="Subscribe" name="member[subscribe]" id="member_submit">
  </div>
</form>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="https://www.ianwootten.co.uk/2022/06/23/should-you-pay-for-github-copilot/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Should You Pay for Github Copilot?</span>
    </a>
    
    
    <a href="https://www.ianwootten.co.uk/2022/08/25/developing-on-the-framework-laptop/" class="navigation-next">
      <span class="navigation-tittle">Developing on the Framework Laptop</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>


        </div>
        
    
<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"
  integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy"
  crossorigin="anonymous">
</script>


    
    




    



    </body>
</html>
