<!DOCTYPE html>
<html lang="en" class="motion-safe:scroll-smooth 2xl:text-[20px]">
	<head>
		<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>How to Deploy a Django App to the DigitalOcean App Platform — Ian Wootten</title>
<meta name="robots" content="index,follow" />
<meta property="og:title" content="How to Deploy a Django App to the DigitalOcean App Platform" />
<meta property="og:url" content="https://www.ianwootten.co.uk/2020/10/28/how-to-deploy-a-django-app-to-the-digitalocean-app-platform/" />
<meta property="og:type" content="article" />
<link rel="canonical" href="https://www.ianwootten.co.uk/2020/10/28/how-to-deploy-a-django-app-to-the-digitalocean-app-platform/" />


<!-- Or Google Fonts -->

<meta name="google-site-verification" content="orcPxI47GSa-cRvY11tUe6iGg2IO_RPvnA1q95iEM3M">



<script defer data-domain="ianwootten.co.uk" src="https://analytics.niftydigits.com/js/plausible.js"></script>

<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="mask-icon" href="/favicon.svg" color="#8D46E7">


	<link rel="stylesheet" href="/assets/_...page_.0987525b.css" />
<link rel="stylesheet" href="/assets/_slug_.9a3e7945.css" />
<link rel="stylesheet" href="/assets/index.a49322ed.css" /><script type="module">class c extends HTMLElement{connectedCallback(){this.videoId=this.getAttribute("videoid");let e=this.querySelector(".lty-playbtn");if(this.playLabel=e&&e.textContent.trim()||this.getAttribute("playlabel")||"Play",this.style.backgroundImage||(this.posterUrl=`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`,c.addPrefetch("preload",this.posterUrl,"image"),this.style.backgroundImage=`url("${this.posterUrl}")`),e||(e=document.createElement("button"),e.type="button",e.classList.add("lty-playbtn"),this.append(e)),!e.textContent){const t=document.createElement("span");t.className="lyt-visually-hidden",t.textContent=this.playLabel,e.append(t)}this.addEventListener("pointerover",c.warmConnections,{once:!0}),this.addEventListener("click",t=>this.addIframe())}static addPrefetch(e,t,o){const n=document.createElement("link");n.rel=e,n.href=t,o&&(n.as=o),document.head.append(n)}static warmConnections(){c.preconnected||(c.addPrefetch("preconnect","https://www.youtube-nocookie.com"),c.addPrefetch("preconnect","https://www.google.com"),c.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),c.addPrefetch("preconnect","https://static.doubleclick.net"),c.preconnected=!0)}addIframe(){const e=new URLSearchParams(this.getAttribute("params")||[]);e.append("autoplay","1");const t=document.createElement("iframe");t.width=560,t.height=315,t.title=this.playLabel,t.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",t.allowFullscreen=!0,t.src=`https://www.youtube-nocookie.com/embed/${encodeURIComponent(this.videoId)}?${e.toString()}`,this.append(t),this.classList.add("lyt-activated"),this.querySelector("iframe").focus()}}customElements.define("lite-youtube",c);class a extends HTMLElement{videoId;static preconnected=!1;connectedCallback(){this.videoId=encodeURIComponent(this.dataset.id),this.addEventListener("pointerover",a.warmConnections,{once:!0}),this.addEventListener("click",e=>this.addIframe(e))}static addPrefetch(e,t){const o=document.createElement("link");o.rel=e,o.href=t,document.head.append(o)}static warmConnections(){a.preconnected||(a.addPrefetch("preconnect","https://player.vimeo.com"),a.addPrefetch("preconnect","https://i.vimeocdn.com"),a.addPrefetch("preconnect","https://f.vimeocdn.com"),a.addPrefetch("preconnect","https://fresnel.vimeocdn.com"),a.preconnected=!0)}addIframe(e){if(this.classList.contains("ltv-activated"))return;e.preventDefault(),this.classList.add("ltv-activated");const t=encodeURIComponent(this.dataset.t||"0m"),o=new URLSearchParams(this.dataset.params||[]),n=document.createElement("iframe");n.width="640",n.height="360",n.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",n.allowFullscreen=!0,n.src=`https://player.vimeo.com/video/${this.videoId}?${o.toString()}#t=${t}`,this.append(n)}}customElements.define("lite-vimeo",a);
</script>
<script>!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.7.3 - MIT builder.io */
!function(t,e,n,i,r,o,a,d,s,c,p,l){function u(){l||(l=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(w,1e4),e.addEventListener("pt0",f),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):w())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.7.3":"sandbox-sw.html?"+Date.now()),e.body.appendChild(c)}function w(t,n){for(f(),t=0;t<s.length;t++)(n=e.createElement("script")).innerHTML=s[t].innerHTML,e.head.appendChild(n);c&&c.parentNode.removeChild(c)}function f(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){p=t,e.split(".").map((function(e,n,i){p=p[i[n]]=n+1<i.length?"push"==i[n+1]?[]:p[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);</script></head>

	<body class="antialiased text-gray-900 dark:text-slate-300 tracking-tight bg-white dark:bg-slate-900">
		<header class="sticky top-0 z-40 flex-none mx-auto w-full bg-white md:bg-white/90 dark:bg-slate-900 dark:md:bg-slate-900/90 md:backdrop-blur-sm border-b dark:border-b-0">
	<div class="py-3 px-3 mx-auto w-full md:flex md:justify-between max-w-6xl md:px-4">
		<div class="flex justify-between">
			<a class="flex items-center" href="/">
				<span class="self-center ml-2 text-2xl font-extrabold text-gray-900 whitespace-nowrap dark:text-white">
	💻&nbsp;&nbsp;Ian Wootten</span>
			</a>
			<div class="flex items-center md:hidden">
				<button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-aw-toggle-color-scheme>
	<svg viewBox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:sun"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="12" cy="12" r="4"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></g></svg>
</button>
				<button type="button" class="ml-1.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center transition" aria-label="Toggle Menu" data-aw-toggle-menu>
	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:menu"><g class="icon-tabler" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 8h16"/><path d="M4 16h16"/></g></svg>
</button>
			</div>
		</div>
		<nav class="items-center w-full md:w-auto hidden md:flex text-gray-600 dark:text-slate-200 h-screen md:h-auto" aria-label="Main navigation" id="menu">
			<ul class="flex flex-col pt-8 md:pt-0 md:flex-row md:self-center w-full md:w-auto collapsed text-xl md:text-base">
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/blog/">Blog</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/about/">About</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/work-with-me/">Work With Me</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://niftydigits.gumroad.com/">Products
					</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://newsletter.ianwootten.co.uk">Newsletter
					</a>
				</li>
				<li class="md:hidden">
					<a class="font-bold hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://www.youtube.com/IanWootten?sub_confirmation=1">YouTube
					</a>
				</li>
				<li class="md:hidden">
					<a class="font-bold hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://github.com/iwootten">Github
					</a>
				</li>
			</ul>
			<div class="md:self-center flex items-center mb-4 md:mb-0 ml-2">
				<div class="hidden items-center md:flex">
					<button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-aw-toggle-color-scheme>
	<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:sun"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="12" cy="12" r="4"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></g></svg>
</button>
					<a href="https://www.youtube.com/IanWootten?sub_confirmation=1" class="inline-block text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5" aria-label="Ian's YouTube Channel">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-youtube"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><rect width="18" height="14" x="3" y="5" rx="4"/><path d="m10 9 5 3-5 3z"/></g></svg>
					</a>
					<a href="https://github.com/iwootten" class="inline-block text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5" aria-label="Ian's Github">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
					</a>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="RSS Feed" href="/rss.xml">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:rss"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"/></g></svg>
					</a>
				</div>
			</div>
		</nav>
	</div>
</header><main>
		<section class="py-8 sm:py-16 lg:py-20 mx-auto">
	<article>
		<header>
			<p class="max-w-3xl mx-auto text-center">
				<time datetime="2020-10-28T10:13:59.000Z">Oct 28, 2020</time> ~ 5 min read
			</p>
			<h1 class="px-4 sm:px-6 max-w-3xl mx-auto text-center text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-8 font-heading">
				How to Deploy a Django App to the DigitalOcean App Platform
			</h1>
			<div class="container text-center mx-auto px-8 sm:px-6 max-w-3xl mt-8">
				<ul class="text-sm">
			<li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/python/">python</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/django/">django</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/digitalocean/">digitalocean</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/tutorial/">tutorial</a>
				</li>
		</ul>
			</div>
			
		</header>
		<div class="container mx-auto px-6 sm:px-6 max-w-3xl prose prose-lg lg:prose-xl dark:prose-invert dark:prose-headings:text-slate-300 prose-md prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-primary-600 dark:prose-a:text-primary-400 prose-img:rounded-md prose-img:shadow-lg mt-8">
			<p>Digitalocean recently launched their App platform, a platform as a service (PaaS) which can be seen as a competitor to the likes of Heroku. As a Python developer, I wanted to see how easy it was to deploy a django app to App platform. It took me a little while to configure everything correctly so I thought I’d go through some of the points that tripped me up here.</p>
<p>I’ve been looking for some time for a relatively simple method for deploying my projects, but I also want to use a pattern where my repo is the primary source of truth for my app. Often getting this setup is mired in complexity of building my own pipeline to trigger a deployment when I make changes to my codebase. If you’re looking to ship, you probably don’t want to have hire an Ops person to manage it all for you or learn something like Kubernetes yourself before pushing to production. By making this the App platforms responsibility you’re free to worry about other things.</p>
<p>In this tutorial I’ll be walking through the steps I used to deploy a django app <a href="https://github.com/iwootten/empty-django-app">empty-django-app</a> which  shows a simple “Hello, world!” response from its main view. I do this using the main DigitalOcean interface and the CLI using an App specification yaml.</p>
<h4 id="pros">Pros:</h4>
<ul>
<li>Continuous deployments with little pipeline configuration neccessary</li>
<li>Simpler than using a cloud provider such as AWS or Google Cloud</li>
<li>Many <a href="https://www.digitalocean.com/docs/app-platform/languages-frameworks/">languages and frameworks supported</a></li>
<li>Cheaper than Heroku - A simple App using both Postgres and Redis comes in at $90/mo on Heroku ($25 + $50 + $15) vs $42/mo on DigitalOcean ($12 + $15 + $15)</li>
</ul>
<h4 id="cons">Cons:</h4>
<ul>
<li>Only supports GitHub as a host at the moment (More hosts to be added soon).</li>
<li>Less integrations out of the box than Heroku</li>
<li>Lack of Documentation - However, the community is very active and <a href="https://www.digitalocean.com/community/questions/app-platform-instance_size_slug-options">I found questions I had were answered promptly</a>.</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>A github account</li>
<li>A digitalocean account with active payment method</li>
<li>A working django app which you want to deploy available in github</li>
<li>A requirements.txt or Pipfile in the root of the app defining dependencies and includes gunicorn</li>
<li>[Optional] <a href="https://github.com/digitalocean/doctl">doctl, the Digitalocean Commandline Interface</a></li>
</ul>
<h2 id="using-the-digitalocean-web-app">Using the DigitalOcean Web App</h2>
<p>Firstly, DigitalOcean needs to know where to find your Django code. Head to the App Platform page and click on “Launch Your App”. The App platform only currently works with Github, so you need to give it permission to access your repositories there:</p>
<picture>
			<source type="image/avif" srcset="/assets/app-platform-launch.34f2d75f_CVSk7.avif 400w,/assets/app-platform-launch.34f2d75f_2kfTBy.avif 900w"><source type="image/webp" srcset="/assets/app-platform-launch.34f2d75f_1mhHhS.webp 400w,/assets/app-platform-launch.34f2d75f_Z21ApeB.webp 900w"><source type="image/png" srcset="/assets/app-platform-launch.34f2d75f_Z25PtKq.png 400w,/assets/app-platform-launch.34f2d75f_pzFru.png 900w">
			<img width="900" height="532" src="/assets/app-platform-launch.34f2d75f_Z2iow0K.png" loading="lazy" decoding="async" alt="The app platform launch page" class="">
		</picture>
<p>You’ll need to select the repository you want to deploy from. In my case, I’m using <a href="https://github.com/iwootten/empty-django-app">empty-django-app</a>, which just returns “Hello, world!“:</p>
<picture>
			<source type="image/avif" srcset="/assets/configure-step-1.622b1994_1aCSTi.avif 400w,/assets/configure-step-1.622b1994_1AGh0d.avif 900w"><source type="image/webp" srcset="/assets/configure-step-1.622b1994_1SXHR4.webp 400w,/assets/configure-step-1.622b1994_2k25WY.webp 900w"><source type="image/png" srcset="/assets/configure-step-1.622b1994_1QmesM.png 400w,/assets/configure-step-1.622b1994_1Hc73K.png 900w">
			<img width="900" height="442" src="/assets/configure-step-1.622b1994_Z213DTS.png" loading="lazy" decoding="async" alt="Select a repository" class="">
		</picture>
<p>Select a name for your app, the region you want to use to deploy to and repository branch to deploy from. Also, ensure that the checkbox “Autodeploy code changes” is enabled. This is one of the great features of the App platform, allowing changes to immediately deploy once merged to a particular branch.</p>
<picture>
			<source type="image/avif" srcset="/assets/configure-step-2.19add395_2eV7Ee.avif 400w,/assets/configure-step-2.19add395_Z2jWK2F.avif 900w"><source type="image/webp" srcset="/assets/configure-step-2.19add395_Z26UcbV.webp 400w,/assets/configure-step-2.19add395_Z1ABV4T.webp 900w"><source type="image/png" srcset="/assets/configure-step-2.19add395_Z13DjHY.png 400w,/assets/configure-step-2.19add395_Z21F5a8.png 900w">
			<img width="900" height="533" src="/assets/configure-step-2.19add395_Z1Yz5n3.png" loading="lazy" decoding="async" alt="Select an app name and branch" class="">
		</picture>
<p>Next we’ll need to configure how our app is deployed. The App platform is able to understand we want to deploy a Python web service, but we need to change a couple of things to ensure the app is configured correctly.</p>
<p>Firstly, add an environment variable of <code>APP_DOMAIN</code> and set it to <code>${APP_DOMAIN}</code>. This is a special <a href="https://www.digitalocean.com/docs/app-platform/how-to/use-environment-variables/">App-wide environment variable</a> that DigitalOcean defines and we use within our app to define the <code>ALLOWED_HOSTS</code>.</p>
<picture>
			<source type="image/avif" srcset="/assets/configure-step-3.0df9b39a_Z1DYNxK.avif 400w,/assets/configure-step-3.0df9b39a_Z1yzoA8.avif 900w"><source type="image/webp" srcset="/assets/configure-step-3.0df9b39a_ZUDYzY.webp 400w,/assets/configure-step-3.0df9b39a_ZPezCm.webp 900w"><source type="image/png" srcset="/assets/configure-step-3.0df9b39a_Z2alQMa.png 400w,/assets/configure-step-3.0df9b39a_Z1v9D2r.png 900w">
			<img width="900" height="916" src="/assets/configure-step-3.0df9b39a_ZA6lf9.png" loading="lazy" decoding="async" alt="Configure the application" class="">
		</picture>
<p>The run command is what we want to run each time our code is changed. Gunicorn needs to be defined to point to a temporary directory that the platform worker has access to and the appropriate wsgi file:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">python manage.py migrate</span><span style="color:#FF7B72">;</span><span style="color:#C9D1D9"> gunicorn --worker-tmp-dir /dev/shm djempty.wsgi</span></span></code></pre>
<p>We also need to change the <code>HTTP_PORT</code> to 8000, which gunicorn will be running from.</p>
<p>Finally, I’ll be using a single container on the $5/month plan because this is a test and I don’t want to accidentally get charged too much!</p>
<picture>
			<source type="image/avif" srcset="/assets/configure-step-4.5fc5c620_29c4tc.avif 400w,/assets/configure-step-4.5fc5c620_ZPufkY.avif 900w"><source type="image/webp" srcset="/assets/configure-step-4.5fc5c620_Z2cEfmX.webp 400w,/assets/configure-step-4.5fc5c620_Z79qnd.webp 900w"><source type="image/png" srcset="/assets/configure-step-4.5fc5c620_ZoN2Vz.png 400w,/assets/configure-step-4.5fc5c620_ZEGUYN.png 900w">
			<img width="900" height="856" src="/assets/configure-step-4.5fc5c620_Zpwl6Y.png" loading="lazy" decoding="async" alt="Select the container size" class="">
		</picture>
<p>You can follow the deployment log to check how the build of your app is doing.</p>
<picture>
			<source type="image/avif" srcset="/assets/deploy-in-progress.11d477fa_Z1OPbwX.avif 400w,/assets/deploy-in-progress.11d477fa_ZdExlP.avif 900w"><source type="image/webp" srcset="/assets/deploy-in-progress.11d477fa_Z16umzc.webp 400w,/assets/deploy-in-progress.11d477fa_uFgAV.webp 900w"><source type="image/png" srcset="/assets/deploy-in-progress.11d477fa_Z2kHA6s.png 400w,/assets/deploy-in-progress.11d477fa_Z2hxp0c.png 900w">
			<img width="900" height="416" src="/assets/deploy-in-progress.11d477fa_Zzq8Js.png" loading="lazy" decoding="async" alt="Deployment in progress" class="">
		</picture>
<picture>
			<source type="image/avif" srcset="/assets/deploy-logs.82e3eaee_1nNg6d.avif 400w,/assets/deploy-logs.82e3eaee_Z2rLBEr.avif 900w"><source type="image/webp" srcset="/assets/deploy-logs.82e3eaee_27953Y.webp 400w,/assets/deploy-logs.82e3eaee_Z1IqMGF.webp 900w"><source type="image/png" srcset="/assets/deploy-logs.82e3eaee_1wLmtS.png 400w,/assets/deploy-logs.82e3eaee_Z1cSv1k.png 900w">
			<img width="900" height="1005" src="/assets/deploy-logs.82e3eaee_qX56t.png" loading="lazy" decoding="async" alt="Deployment logs" class="">
		</picture>
<p>Hopefully, if everything is configured correctly, your deployment should complete successfully:</p>
<picture>
			<source type="image/avif" srcset="/assets/deploy-success.57197680_Z1V5jni.avif 400w,/assets/deploy-success.57197680_EXgrc.avif 900w"><source type="image/webp" srcset="/assets/deploy-success.57197680_Z1cJupw.webp 400w,/assets/deploy-success.57197680_1oj5oX.webp 900w"><source type="image/png" srcset="/assets/deploy-success.57197680_7aYnU.png 400w,/assets/deploy-success.57197680_ZrHA0z.png 900w">
			<img width="900" height="423" src="/assets/deploy-success.57197680_Z17sYD5.png" loading="lazy" decoding="async" alt="Deployment complete" class="">
		</picture>
<p>You should now be able to visit the endpoint in a browser and see the response from the main Django view:</p>
<picture>
			<source type="image/avif" srcset="/assets/app-in-browser.2c3ae327_Z1Fgfgv.avif 400w,/assets/app-in-browser.2c3ae327_ZsHqrT.avif 900w"><source type="image/webp" srcset="/assets/app-in-browser.2c3ae327_ZVUqiJ.webp 400w,/assets/app-in-browser.2c3ae327_fCnuR.webp 900w"><source type="image/png" srcset="/assets/app-in-browser.2c3ae327_VI4RP.png 400w,/assets/app-in-browser.2c3ae327_1D7nmw.png 900w">
			<img width="900" height="231" src="/assets/app-in-browser.2c3ae327_Z1SWKwX.png" loading="lazy" decoding="async" alt="The final app in the browser" class="">
		</picture>
<h2 id="using-the-digitalocean-cli-doctl">Using the DigitalOcean CLI (doctl)</h2>
<p>If you prefer using the commandline for your deployments, you can use <a href="https://www.digitalocean.com/docs/apis-clis/doctl/">doctl</a> to deploy your Django app. Within my repo I’ve described the series of above steps as an <a href="https://github.com/iwootten/empty-django-app/blob/master/config.yaml">App specification</a> which doctl can use to deploy an app. You can see what each of the variables describe on <a href="https://www.digitalocean.com/docs/app-platform/references/app-specification-reference/">the main reference page</a>, but most of them should be clear from the above steps.</p>
<p>You need to configure doctl with an appropriate API key from the “Account &gt; API” page. Once this is done and you have downloaded the <a href="https://github.com/iwootten/empty-django-app/blob/master/config.yaml">config.yaml</a>, you create a new app by calling:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">doctl apps create --spec config.yaml</span></span></code></pre>
<p>You should see a response like:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">Notice: App created</span></span>
<span class="line"><span style="color:#C9D1D9">ID                                      Spec Name           Default Ingress    Active Deployment ID    In Progress Deployment ID    Created At                                Updated At</span></span>
<span class="line"><span style="color:#C9D1D9">7ebdb71d-e1cf-400a-a795-40576ec9fa87    empty-django-app                                                                            2020-10-28 12:52:17.81988127 +0000 UTC    2020-10-28 12:52:17.81988127 +0000 UTC</span></span></code></pre>
<p>If you then head to the DigitalOcean web site, you should see your app deploying much the same way as before <a href="https://cloud.digitalocean.com/apps">on your apps homepage</a>.</p>
<h1 id="conclusion">Conclusion</h1>
<p>I’ve covered the basics of the DigitalOcean App platform here by deploying a simple Django application using the main user interface and doctl. This app is now configured to automatically deploy any changes made to my Django application as soon as they are merged to the main branch on Github.</p>
<p>I think the platform offers really good value compared to other providers, where costs can really ramp up as the complexity of the project becomes non-trivial. With its launch I’ll now be able to ship ideas much more quickly without too much worry of the costs or complexity involved.</p>
		</div>
	</article>
	<section class="relative astro-LWWYAVEQ">
	<div class="max-w-6xl mx-auto px-4 sm:px-6 astro-LWWYAVEQ">
		<div class="py-12 md:py-20 astro-LWWYAVEQ">
			<div class="max-w-3xl mx-auto text-center p-6 rounded-md shadow-xl dark:shadow-none astro-LWWYAVEQ">
				<h2 class="text-4xl md:text-4xl font-bold leading-tighter tracking-tighter mb-4 font-heading astro-LWWYAVEQ">
					Subscribe for Exclusives
				</h2>
				<p class="text-xl text-gray-600 dark:text-slate-400 astro-LWWYAVEQ">
					My monthly newsletter shares exclusive articles you won't find elsewhere, tools and code. No spam, unsubscribe any time. 
				</p>

				<div class="mt-6 astro-LWWYAVEQ">
					<script defer src="https://unpkg.com/@tryghost/portal@latest/umd/portal.min.js" data-ghost="https://newsletter.ianwootten.co.uk" data-api="https://newsletter.ianwootten.co.uk/ghost/api/content/" data-key="e8ef5be0fe96aacc76c64de1ed"></script>
					<form class="text-right astro-LWWYAVEQ" data-members-form>
						<input class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm dark:placeholder-slate-700 dark:text-slate-900 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 astro-LWWYAVEQ" placeholder="Your email address..." type="email" name="email" required="true" data-members-email>
						<button class="mt-3 btn text-white bg-primary-600 hover:bg-primary-800 mb-4 sm:mb-0 astro-LWWYAVEQ" type="submit">Subscribe</button>
						<strong class="feedback astro-LWWYAVEQ">Thanks so much! Check your inbox for an activation link.</strong>
					</form>
				</div>
			</div>
		</div>
	</div>
</section>
</section>
	</main><footer class="border-t border-gray-200 dark:border-slate-800">
	<div class="max-w-6xl mx-auto px-4 sm:px-6">
		<div class="md:flex md:items-center md:justify-between py-6 md:py-8">
			<ul class="flex mb-4 md:order-1 -ml-2 md:ml-4 md:mb-0">
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Twitter" href="https://twitter.com/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-twitter"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 0 0 .497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="YouTube" href="https://youtube.com/IanWootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-youtube"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><rect width="18" height="14" x="3" y="5" rx="4"/><path d="m10 9 5 3-5 3z"/></g></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Github" href="https://github.com/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="LinkedIn" href="https://linkedin.com/in/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><rect width="16" height="16" x="4" y="4" rx="2"/><path d="M8 11v5M8 8v.01M12 16v-5M16 16v-3a2 2 0 0 0-4 0"/></g></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="RSS" href="/rss.xml">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:rss"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"/></g></svg>
					</a>
				</li>
			</ul>
			<div class="text-sm text-gray-700 mr-4 dark:text-slate-400">
				&copy; 2003-2023 Ian Wootten
			</div>
		</div>
	</div>
</footer>
		<script>
	// Set "light" theme as default
	// if (!localStorage.theme) {
	//   localStorage.theme = "light";
	// }

	if (
		localStorage.theme === 'dark' ||
		(!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
	) {
		document.documentElement.classList.add('dark');
	} else {
		document.documentElement.classList.remove('dark');
	}

	function attachEvent(selector, event, fn) {
		const matches = document.querySelectorAll(selector);
		if (matches && matches.length) {
			matches.forEach((elem) => {
				elem.addEventListener(event, () => fn(elem), false);
			});
		}
	}

	window.onload = function () {
		attachEvent('[data-aw-toggle-menu]', 'click', function (elem) {
			elem.classList.toggle('expanded');
			document.body.classList.toggle('overflow-hidden');
			document.getElementById('menu')?.classList.toggle('hidden');
		});

		attachEvent('[data-aw-toggle-color-scheme]', 'click', function () {
			document.documentElement.classList.toggle('dark');
			localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
		});
	};
	window.onpageshow = function () {
		const elem = document.querySelector('[data-aw-toggle-menu]');
		if (elem) {
			elem.classList.remove('expanded');
		}
		document.body.classList.remove('overflow-hidden');
		document.getElementById('menu')?.classList.add('hidden');
	};
</script>

		
	</body>
</html>