<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ian Wootten - Web Developer, Cardiff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/fonts/open-sans.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-263865-2', 'ianwootten.co.uk');
      ga('send', 'pageview');

    </script>
</head>
<body>

<div class="container blog">
    <header>
      <nav>
      <ul class="nav">
        <li><a class="blog active" href="/">Blog</a></li>
        <li><a class="javascript " href="/category/javascript">Javascript</a></li>
        <li><a class="web-apps " href="/category/web-apps">Web Apps</a></li>
        <li><a class="about" href="/about">About</a></li>
        <li><a class="contact" href="/contact">Contact</a></li>
      </ul>
      </nav>
      <div class="clear"></div>
    </header>

      
        <div class="post">
          <h1><a href="/2011/09/09/hosting-an-octopress-blog-on-amazon-s3">Hosting an Octopress Blog on Amazon S3</a></h1>
      <div class="author_meta">09 Sep 2011</div>

          <p><a href="http://octopress.org">Octopress</a> is a framework for blogging based on the static site generator <a href="https://github.com/mojombo/jekyll">jekyll</a>. In short jekyll takes markdown and turns it into blog style html ready to be served straight away with Apache whilst Octopress dresses it up nicely with HTML5, responsive layout goodness and gives you a bunch of options for code formatting and the like. A perfect little blogging setup for hackers for those of us who typically won&#8217;t need all the bells and whistles on our blog I&#8217;m sure you&#8217;ll agree.</p>
<p>Using Octopress, you&#8217;d typically write your posts in markdown and process them locally. You&#8217;d then have a number of HTML pages to upload to your web server, which would appear no different than any other blog in terms of functionality.</p>
<p>The most interesting thing that coincincides with the creation of jekyll is that it is now possible to serve static websites straight from Amazon S3, meaning that it isn&#8217;t neccessary to have a web server to serve a Octopress blog. I&#8217;ve been playing a little and have been able to serve my own octopress blog which you can see over at <a href="http://www.ianwootten.com">www.ianwootten.com</a>. Here&#8217;s how to do it:</p>
<h2 id="configure-an-s3-bucket-to-act-as-a-website">Configure an S3 Bucket to Act as a Website</h2>
<p>NB: If you want to use your own domain, then you&#8217;re going to need to create an S3 bucket from the AWS Console named the same as your domain (so for me I created a bucket called &#8220;www.ianwootten.com&#8221;. </p>
<p>To configure your bucket as a website, from the AWS Console, select the new bucket and click &#8220;Properties&#8221;. Choose the &#8220;Website&#8221; tab from the box that appears and check &#8220;enabled&#8221; and set the Index document as &#8220;index.html&#8221;. Click &#8220;Save&#8221;. Now move to the &#8220;permissions&#8221; tab and click &#8220;Add bucket policy&#8221;. Enter a policy as below, with &#8220;www.ianwootten.com&#8221; replaced with the name of the bucket you&#8217;re using.</p>
<p><code>&lt;br /&gt;
{&lt;br /&gt;
    &quot;Version&quot;: &quot;2008-10-17&quot;,&lt;br /&gt;
    &quot;Id&quot;: &quot;&quot;,&lt;br /&gt;
    &quot;Statement&quot;: [&lt;br /&gt;
        {&lt;br /&gt;
            &quot;Sid&quot;: &quot;PublicReadForGetBucketObjects&quot;,&lt;br /&gt;
            &quot;Effect&quot;: &quot;Allow&quot;,&lt;br /&gt;
            &quot;Principal&quot;: {&lt;br /&gt;
                &quot;AWS&quot;: &quot;*&quot;&lt;br /&gt;
            },&lt;br /&gt;
            &quot;Action&quot;: &quot;s3:GetObject&quot;,&lt;br /&gt;
            &quot;Resource&quot;: &quot;arn:aws:s3:::www.ianwootten.com/*&quot;&lt;br /&gt;
        }&lt;br /&gt;
    ]&lt;br /&gt;
}&lt;br /&gt;</code></p>
<p>If you&#8217;ve opted not to use your own domain, then that&#8217;s it for S3. Your new bucket website will be available at a combination of the bucket name and the S3 storage location. In my case, this is <a href="http://www.ianwootten.com.s3-website-us-east-1.amazonaws.com/">http://www.ianwootten.com.s3-website-us-east-1.amazonaws.com/</a>. There&#8217;s a list of endpoints on the &#8220;website endpoints&#8221; page in <a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?WebsiteHosting.html">Amazons S3 website docs</a>.</p>
<h2 id="configure-dns">Configure DNS</h2>
<p>If you&#8217;re wanting to use your own domain, then you&#8217;ll need to visit your domain registraar and edit some DNS entries. In my case, I added a CNAME entry &#8220;www&#8221; pointing to www.ianwootten.com.s3-website-us-east-1.amazonaws.com. You&#8217;ll need to use a tool like <a href="http://wwwizer.com">wwwizer</a> in order to forward from the root of your domain to the www subdomain. e.g. &#8220;ianwootten.com&#8221; to &#8220;www.ianwootten.com&#8221;. To get that working, you&#8217;ll also need to modify the @ A record and point it to 174.129.25.170. Read this <a href="http://serverfault.com/questions/62527/how-to-create-a-cname-for-a-domains-root-name">serverfault post</a> if you&#8217;re interested to know why.</p>
<p>For more info on CNAME configuration and S3 see <a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?WebsiteHosting.html">Amazons S3 website docs</a> (Specifically the notes on virtual hosting).</p>
<h2 id="download-octopress-and-write-some-markdown">Download Octopress and write some Markdown</h2>
<p>Having successfully configured Amazon S3 to host your blog, you need to tackle the age old problem of writing some content for it. This was particularly hard for me, given my lack of knowledge about markdown! You may like to take a look at <a href="http://daringfireball.net/projects/markdown/basics">John Grubers explanation of markdown</a> if you&#8217;re suffering like me. The <a href="http://octopress.org/docs/blogging/">Octopress blogging basics</a> gives a good overview of how your new local blogging workflow will work. Essentially new posts are written in the ./_source/posts folder and when <code>rake generate</code> is executed, your entire websites content is output to the ./public folder. You can also run <code>rake preview</code> in order to preview on a local server.</p>
<p>TO publish your blog, it&#8217;s merely a matter of transferring your /public content to the S3 bucket you&#8217;ve generated.</p>
<p>Having done all that you&#8217;ve now no need to run your own server. You&#8217;re still dependent on those that operate at S3, wwwizer and your domain registraar, but you&#8217;ve removed your own from the equation. You may be interested in checking out <a href="http://www.jerome-bernard.com/blog/2011/08/20/quick-tip-for-easily-deploying-octopress-blog-on-amazon-s3/">Jerome Bernard&#8217;s</a> tip on easily deploying Octopress blogs with <a href="http://s3tools.org/s3cmd">s3cmd</a>.</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/amazon">amazon</a>,
                
                <a href="/tag/blog">blog</a>,
                
                <a href="/tag/blogging">blogging</a>,
                
                <a href="/tag/godaddy">godaddy</a>,
                
                <a href="/tag/jekyll">jekyll</a>,
                
                <a href="/tag/octopress">octopress</a>,
                
                <a href="/tag/s3">s3</a>,
                
              
              | <a href="2011/09/09/hosting-an-octopress-blog-on-amazon-s3/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2009/10/25/amazon-associates-wordpress-plugin-v0-2">Amazon Associates WordPress Plugin v0.2</a></h1>
      <div class="author_meta">25 Oct 2009</div>

          <p>I&#8217;ve just updated my amazon associates plugin to take into account the recent signiture changes which amazon have introduced for their webservices api.</p>
<p>This now also means you&#8217;ll have to enter your amazon secret access key in the plugin configuration page.</p>
<p>You can download the updated version over <a href="http://ianwootten.co.uk/downloads/wishlist.zip">here</a>.</p>
<p>It also means <a href="http://www.ianwootten.co.uk/wishlist">my wishlist</a> has finally been brought back to life. Just in time for Christmas&#8230;</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/amazon">amazon</a>,
                
                <a href="/tag/associates">associates</a>,
                
                <a href="/tag/aws">aws</a>,
                
                <a href="/tag/PHP">PHP</a>,
                
                <a href="/tag/web-services">web services</a>,
                
                <a href="/tag/wishlist">wishlist</a>,
                
              
              | <a href="2009/10/25/amazon-associates-wordpress-plugin-v0-2/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2008/04/02/amazon-associates-wordpress-wishlist-plugin">Amazon Associates WordPress Wishlist Plugin</a></h1>
      <div class="author_meta">02 Apr 2008</div>

          <p>One of the things that&#8217;s bugged me for a while whilst having a website is that at certain times of the year when people might actually like to buy me a gift they&#8217;re unable to find my wishlist. This is mainly because they&#8217;re simple folk who might not think to check amazon for my name. I&#8217;m also signed up with amazon associates, so I decided it could do me well to post my wishlist items along with my referral tag in the links in order to earn a bob or two on my own homepage. All this data is available on the web already its just a case of putting it together.</p>
<p>Some keen readers might of noticed the wishlist page I stuck up recently and want something similar on their own site and (like myself) either can&#8217;t be bothered or didn&#8217;t have the time to create a plugin to pull this data together. I&#8217;m putting up here my own quick and dirty plugin I built a few weeks ago to achieve this.</p>
<p>It uses amazon web services to look up a wishlist, stick in a specified associates id in each of my item links and replace where I put the text <!-- wishlist_content --> (without spaces) in a post with my wishlist items. The plugin regularly updates this (hourly) as a scheduled event in wordpress in case someone decides to actually buy me something. Of course you&#8217;ll need a services key to use it, which you can easily get by signing up with amazon at aws.amazon.com. Fill out your services id, your wishlist id (found by logging into amazon and heading to your wishlist page) and your locale (the bit after amazon. so mine is .co.uk) and press the fetch items to pull all the items in. If you don&#8217;t have an associates id, feel free to leave as my own : )</p>
<p>I used curl to get the remote data from amazon as the file_get_content methods generally aren&#8217;t enabled on normal web hosts. If you&#8217;d like the items to be fetched less regularly, then install the plugin with and updated wp_schedule_event method in the main wishlist.php to a value of your choice.</p>
<p>You can download it over <a href="http://ianwootten.co.uk/downloads/wishlist.zip">here</a>.</p>
<p><em>Double alliteration in a post title? Not sure I&#8217;ve attempted that before.</em></p>
<p>[Edit: You&#39;ll need to be running on PHP5 to make use of this plugin]<br>[Edit: I released an updated version based on Amazon&#39;s move to use of signitures, see the details <a href="http://www.ianwootten.co.uk/2009/10/25/amazon-associates-wordpress-plugin-v0-2">here</a>]</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/amazon">amazon</a>,
                
                <a href="/tag/associates">associates</a>,
                
                <a href="/tag/aws">aws</a>,
                
                <a href="/tag/PHP">PHP</a>,
                
                <a href="/tag/web-services">web services</a>,
                
                <a href="/tag/wishlist">wishlist</a>,
                
              
              | <a href="2008/04/02/amazon-associates-wordpress-wishlist-plugin/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      

      <div class="pagination">
          
          <span class="page_number ">Page: 1 of 1</span>

          
      </div>
    <footer>
      <div class="footer-about">
        I'm a Web Developer  working at <a href="http://niftydigits.com">Nifty Digits</a> in Cardiff, UK. Here, I enjoy talking code - mostly Python/Javascript. I'm <a href="http://twitter.com/iwootten">@iwootten</a> on twitter.
      </div>
    </footer>
  </div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'ianwootten'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
</body>
</html>

