<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ian Wootten - Web Developer, Cardiff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/fonts/open-sans.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-263865-2', 'ianwootten.co.uk');
      ga('send', 'pageview');

    </script>
</head>
<body>

<div class="container blog">
    <header>
      <nav>
      <ul class="nav">
        <li><a class="blog active" href="/">Blog</a></li>
        <li><a class="javascript " href="/category/javascript">Javascript</a></li>
        <li><a class="web-apps " href="/category/web-apps">Web Apps</a></li>
        <li><a class="about" href="/about">About</a></li>
        <li><a class="contact" href="/contact">Contact</a></li>
      </ul>
      </nav>
      <div class="clear"></div>
    </header>

      
        <div class="post">
          <h1><a href="/2015/06/30/blogging-with-metalsmith">Blogging with Metalsmith</a></h1>
      <div class="author_meta">30 Jun 2015</div>

          <p>I&#39;m switching blogging platforms once more. Moving from Wordpress to Jekyll enabled me to no longer deal with the multitude of updates and protected me hacks I could be susceptible to, but Jekyll being written in Ruby (a language I&#39;m not overly familiar with) has been a problem. I&#39;ve been able to cobble together <a href="http://www.ianwootten.co.uk/2014/06/02/porting-a-wordpress-blog-to-jekyll-part-2/">scripts</a> to deal with the custom parts of my blog build, but it&#39;s never felt like home.</p>
<p>I&#39;ve decided to start using <a href="http://metalsmith.io">Metalsmith</a> - a static site generator written in Javascript. It&#39;s existed before my switch to Jekyll and now seems to have enough of a plugin ecosystem in order to provide a collection of plugins to provide behaviour I need to make use of.</p>
<h2 id="metalsmith">Metalsmith</h2>
<p>Metalsmith operates much like a task runner like gulp, where a set of functions manipulate a number of files, one after another in order to eventually build a static site to your liking. A simple build script could be as follows:</p>
<div class='hljs'><pre><code class='javascript'><span class="hljs-keyword">var</span> Metalsmith = <span class="hljs-built_in">require</span>(<span class="hljs-string">'metalsmith'</span>),
    markdown   = <span class="hljs-built_in">require</span>(<span class="hljs-string">'metalsmith-markdown'</span>),
    templates  = <span class="hljs-built_in">require</span>(<span class="hljs-string">'metalsmith-templates'</span>);

Metalsmith(__dirname)
  .use(markdown())
  .use(templates(<span class="hljs-string">'swig'</span>))
  .build();</code></pre></div><p>This is just standard node script with dependencies installed via npm. Metalsmith assumes defaults of src and build for the source of markdown and destination of html. An example of markdown containing some useful front-matter might be as follows:</p>
<div class='hljs'><pre><code class='markdown'><span class="hljs-horizontal_rule">---</span>
title: Blogging with Metalsmith
author: Ian
date: 2015-06-30
categories:
  - Javascript
tags:
  - metalsmith
<span class="hljs-header">  - javascript
---</span>
I'm switching blogging platforms once more...</code></pre></div><p>It also assumes a default template directory under templates, containing a default post template &#39;post.html&#39; - which in the example is written in a swig template as below.</p>
<div class='hljs'><pre><code class='twig'><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"post"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"/</span></span></span><span class="hljs-variable">{{ path }}</span><span class="xml"><span class="hljs-tag"><span class="hljs-value">"</span>&gt;</span></span><span class="hljs-variable">{{ title }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"post_date"</span>&gt;</span></span><span class="hljs-variable">{{ <span class="hljs-function"><span class="hljs-keyword">date</span></span> | <span class="hljs-function"><span class="hljs-keyword">date</span><span class="hljs-params">('d M Y')</span></span> }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    </span><span class="hljs-variable">{{ contents | safe }}</span><span class="xml">
  <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span></span></code></pre></div><p>I&#39;ve managed to reduce my build time (though I&#39;m not currently compiling sass and have added a new sitemap), but am much more familiar with the toolchain in question. Hopefully that&#39;ll lead to further, more frequent updates not just in content, but also the design of my company site and this blog.</p>
<p>I&#39;ll be adding future blogs about my metalsmith toolchain and hurdles with that I&#39;ve overcome.</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/metalsmith">metalsmith</a>,
                
                <a href="/tag/blogging">blogging</a>,
                
                <a href="/tag/javascript">javascript</a>,
                
              
              | <a href="2015/06/30/blogging-with-metalsmith/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2013/01/22/the-move-towards-static-websites">The Move Towards Static Websites</a></h1>
      <div class="author_meta">22 Jan 2013</div>

          <p>There&#8217;s some discussion on new podcast <a href="http://backtofrontshow.com">&#8220;The Back to Front Show&#8221;</a> on why of late we&#8217;re seeing so many static websites cropping up. It seem like now more than ever, we&#8217;re seeing both developers and designers jump ship to this way of working, having long been using database backed solutions (such as WordPress/Drupal) to manage their publishing. </p>
<p>When I talk about a static site, I think of it of raw HTML sat on a server and nothing else. However, it seems as if the industry has adopted the term to refer to sites created from tools which are capable of creating/emulating this HTML, whether it be a local, dropbox or a hosted/self-hosted solution. Typically both types of tool are powered through conversion of flat files into the markup which is served publicly. Through using them you can achieve something akin to a typical blog, without the need for a database (or possibly even a server-side language to power it).</p>
<p><strong>Pro&#8217;s</strong></p>
<p>Simplicity &#8211; Most of the draw toward toward such setups seems to be on the simplicity over flexibility. I can power a site with a minimal setup, but still regularly and simply update and maintain it, using a partial based environment. With a dropbox based solution, I just need to drop my flat files into a folder and everything is updated transparently. Mark Boulton <a href="http://markboulton.co.uk/journal/newblog-newcms">has previously written</a> about his requirements for writing on the web and why he went with <a href="http://statamic.com">Statamic</a>: </p>
<blockquote>
<p>&#8220;I wanted a way of simply publishing words, rather than getting all wrapped up in php, theming files and database problems.&#8221;</p>
</blockquote>
<p>Simplicity it seems, rules.</p>
<p>I previously <a href="http://www.ianwootten.co.uk/2011/09/09/hosting-an-octopress-blog-on-amazon-s3">wrote an article</a> on how you could publish using Octopress and Amazon&#8217;s S3 service. For anyone who has a relatively low traffic site, such a setup could also work out cheaper than a monthly hosting package.</p>
<p>Development Time &#8211; If you&#8217;re one for creating custom themes, a static site is also a much simpler solution than wrestling with styling the innerds of a full fledged cms. Typically posts are stored in markdown and can be styled along with assets using a partial templating system (eg. based on YAML or Liquid). Having recently developed a wordpress theme I can testify to the complexity of having to dig through documentation on function usage and to determine which template file should be modified to achieve what I want within a page.</p>
<p>Source Control &#8211; As <a href="http://rickhurst.co.uk">Rick</a> quite rightly points out below in the comments, having all your posts available in flat files makes them perfect for managing/backing up through your revision control tools of choice.</p>
<p><strong>Cons</strong></p>
<p>Customisation &#8211; For me, the big loss is the lack of flexibility. I hear everyone cry, &#8220;Well, duh &#8211; it&#8217;s static&#8221;. Without a server side language handling requests, I&#8217;m unable to schedule posts, handle comments, create forms or trigger email. If I intend on continuing to offer them, I have to find third party services to deal with each of these aspects. I&#8217;m well aware there&#8217;s services like disqus and wufoo that may solve some of these problems, but it seems like a major hassle to integrate each time something like this is required. It may be that this is just me, you may be perfectly happy using these solutions, or may not require them.</p>
<p>Remote publishing &#8211; When using a local based solution (e.g. Jekyll), you don&#8217;t have the option of blogging remotely, due to the lack of tools to create and push out your content. Gone are the days of being able to log into a site from your phone and add a small update. For me, this is less of an issue as I can&#8217;t recall if I&#8217;ve ever written a post in this way and try to be more methodical, less spontaneous about what I&#8217;m writing from the comfort of my desktop.</p>
<p><strong>Example Systems</strong></p>
<p>If you&#8217;re interested in running a static site, then I&#8217;ve listed a few that seem pretty popular at the time of writing, along with a brief list of their features.</p>
<p><a href="https://github.com/mojombo/jekyll">Jekyll</a> &#8211; Locally run, File based, Open source, Powers Github pages.<br><a href="http://octopress.org/">Octopress</a> &#8211; Locally run, Jekyll/File based, but with preconfigured HTML templates, CSS, Javascript, Open Source<br><a href="http://statamic.com">Statamic</a> &#8211; Self Hosted, File Based, License Required<br><a href="http://getkirby.com">Kirby</a> &#8211; Self Hosted, File based, jQuery inspired API, License Required<br><a href="http://staceyapp.com">Stacey</a> &#8211; Self hosted, File based, Open source<br><a href="http://scriptogr.am">Scriptogram</a> &#8211; Dropbox/File based</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/blogging">blogging</a>,
                
                <a href="/tag/blogs">blogs</a>,
                
              
              | <a href="2013/01/22/the-move-towards-static-websites/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2013/01/21/new-year-new-theme">New Year, New Theme</a></h1>
      <div class="author_meta">21 Jan 2013</div>

          <p>I&#8217;ve long made use of the default theme on WordPress, which I&#8217;ve always felt wasn&#8217;t entirely &#8220;me&#8221;. The theme now live is one I&#8217;ve been tinkering with for a while now based on the lovely preview design used in the <a href="http://prose.io">prose.io</a> document editing tool for github. I really like the focus on simplicity and think it suits me well.</p>
<p>I&#8217;ve added some different styling for the navigation elements, given they didn&#8217;t already exist on <a href="http://prose.io">prose.io</a>. I&#8217;ve also added some subtle colour changes when navigating between pages, many of which are based on <a href="http://laurakalbag.com">Laura Kalbag</a>&#8216;s palettes over on <a href="http://www.colourlovers.com/lover/LJK">colour lovers</a>.</p>
<p>One of the things I hadn&#8217;t counted on was consolidating 10 years worth of blog posts into sensible categories as it was becoming a bit of a mess. When I first started blogging, wordpress didn&#8217;t exist, let alone tagging and I think I started out using categories in a manner to replicate them.</p>
<p>There&#8217;s still a few things I&#8217;m not entirely happy with, such as how navigation is represented for single posts. I intend to tidy the theme up and release it back to the WordPress community, but for now I&#8217;m enjoying having finally got it out in the open. Feel free to let me know what you think.</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/blogging">blogging</a>,
                
              
              | <a href="2013/01/21/new-year-new-theme/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2011/09/09/hosting-an-octopress-blog-on-amazon-s3">Hosting an Octopress Blog on Amazon S3</a></h1>
      <div class="author_meta">09 Sep 2011</div>

          <p><a href="http://octopress.org">Octopress</a> is a framework for blogging based on the static site generator <a href="https://github.com/mojombo/jekyll">jekyll</a>. In short jekyll takes markdown and turns it into blog style html ready to be served straight away with Apache whilst Octopress dresses it up nicely with HTML5, responsive layout goodness and gives you a bunch of options for code formatting and the like. A perfect little blogging setup for hackers for those of us who typically won&#8217;t need all the bells and whistles on our blog I&#8217;m sure you&#8217;ll agree.</p>
<p>Using Octopress, you&#8217;d typically write your posts in markdown and process them locally. You&#8217;d then have a number of HTML pages to upload to your web server, which would appear no different than any other blog in terms of functionality.</p>
<p>The most interesting thing that coincincides with the creation of jekyll is that it is now possible to serve static websites straight from Amazon S3, meaning that it isn&#8217;t neccessary to have a web server to serve a Octopress blog. I&#8217;ve been playing a little and have been able to serve my own octopress blog which you can see over at <a href="http://www.ianwootten.com">www.ianwootten.com</a>. Here&#8217;s how to do it:</p>
<h2 id="configure-an-s3-bucket-to-act-as-a-website">Configure an S3 Bucket to Act as a Website</h2>
<p>NB: If you want to use your own domain, then you&#8217;re going to need to create an S3 bucket from the AWS Console named the same as your domain (so for me I created a bucket called &#8220;www.ianwootten.com&#8221;. </p>
<p>To configure your bucket as a website, from the AWS Console, select the new bucket and click &#8220;Properties&#8221;. Choose the &#8220;Website&#8221; tab from the box that appears and check &#8220;enabled&#8221; and set the Index document as &#8220;index.html&#8221;. Click &#8220;Save&#8221;. Now move to the &#8220;permissions&#8221; tab and click &#8220;Add bucket policy&#8221;. Enter a policy as below, with &#8220;www.ianwootten.com&#8221; replaced with the name of the bucket you&#8217;re using.</p>
<p><code>&lt;br /&gt;
{&lt;br /&gt;
    &quot;Version&quot;: &quot;2008-10-17&quot;,&lt;br /&gt;
    &quot;Id&quot;: &quot;&quot;,&lt;br /&gt;
    &quot;Statement&quot;: [&lt;br /&gt;
        {&lt;br /&gt;
            &quot;Sid&quot;: &quot;PublicReadForGetBucketObjects&quot;,&lt;br /&gt;
            &quot;Effect&quot;: &quot;Allow&quot;,&lt;br /&gt;
            &quot;Principal&quot;: {&lt;br /&gt;
                &quot;AWS&quot;: &quot;*&quot;&lt;br /&gt;
            },&lt;br /&gt;
            &quot;Action&quot;: &quot;s3:GetObject&quot;,&lt;br /&gt;
            &quot;Resource&quot;: &quot;arn:aws:s3:::www.ianwootten.com/*&quot;&lt;br /&gt;
        }&lt;br /&gt;
    ]&lt;br /&gt;
}&lt;br /&gt;</code></p>
<p>If you&#8217;ve opted not to use your own domain, then that&#8217;s it for S3. Your new bucket website will be available at a combination of the bucket name and the S3 storage location. In my case, this is <a href="http://www.ianwootten.com.s3-website-us-east-1.amazonaws.com/">http://www.ianwootten.com.s3-website-us-east-1.amazonaws.com/</a>. There&#8217;s a list of endpoints on the &#8220;website endpoints&#8221; page in <a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?WebsiteHosting.html">Amazons S3 website docs</a>.</p>
<h2 id="configure-dns">Configure DNS</h2>
<p>If you&#8217;re wanting to use your own domain, then you&#8217;ll need to visit your domain registraar and edit some DNS entries. In my case, I added a CNAME entry &#8220;www&#8221; pointing to www.ianwootten.com.s3-website-us-east-1.amazonaws.com. You&#8217;ll need to use a tool like <a href="http://wwwizer.com">wwwizer</a> in order to forward from the root of your domain to the www subdomain. e.g. &#8220;ianwootten.com&#8221; to &#8220;www.ianwootten.com&#8221;. To get that working, you&#8217;ll also need to modify the @ A record and point it to 174.129.25.170. Read this <a href="http://serverfault.com/questions/62527/how-to-create-a-cname-for-a-domains-root-name">serverfault post</a> if you&#8217;re interested to know why.</p>
<p>For more info on CNAME configuration and S3 see <a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?WebsiteHosting.html">Amazons S3 website docs</a> (Specifically the notes on virtual hosting).</p>
<h2 id="download-octopress-and-write-some-markdown">Download Octopress and write some Markdown</h2>
<p>Having successfully configured Amazon S3 to host your blog, you need to tackle the age old problem of writing some content for it. This was particularly hard for me, given my lack of knowledge about markdown! You may like to take a look at <a href="http://daringfireball.net/projects/markdown/basics">John Grubers explanation of markdown</a> if you&#8217;re suffering like me. The <a href="http://octopress.org/docs/blogging/">Octopress blogging basics</a> gives a good overview of how your new local blogging workflow will work. Essentially new posts are written in the ./_source/posts folder and when <code>rake generate</code> is executed, your entire websites content is output to the ./public folder. You can also run <code>rake preview</code> in order to preview on a local server.</p>
<p>TO publish your blog, it&#8217;s merely a matter of transferring your /public content to the S3 bucket you&#8217;ve generated.</p>
<p>Having done all that you&#8217;ve now no need to run your own server. You&#8217;re still dependent on those that operate at S3, wwwizer and your domain registraar, but you&#8217;ve removed your own from the equation. You may be interested in checking out <a href="http://www.jerome-bernard.com/blog/2011/08/20/quick-tip-for-easily-deploying-octopress-blog-on-amazon-s3/">Jerome Bernard&#8217;s</a> tip on easily deploying Octopress blogs with <a href="http://s3tools.org/s3cmd">s3cmd</a>.</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/amazon">amazon</a>,
                
                <a href="/tag/blog">blog</a>,
                
                <a href="/tag/blogging">blogging</a>,
                
                <a href="/tag/godaddy">godaddy</a>,
                
                <a href="/tag/jekyll">jekyll</a>,
                
                <a href="/tag/octopress">octopress</a>,
                
                <a href="/tag/s3">s3</a>,
                
              
              | <a href="2011/09/09/hosting-an-octopress-blog-on-amazon-s3/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2009/01/31/are-music-blogs-getting-a-raw-deal">Are Music Blogs getting a Raw Deal?</a></h1>
      <div class="author_meta">31 Jan 2009</div>

          <p>I can&#8217;t help but feel a little sorry for music blogs as of late. I&#8217;m sure you may be familiar with <a href="http://hypem.com">The Hype Machine</a> and may use it on a daily basis. For the uninitiated, it is essentially a music blog aggregator, which takes details of tracks and ranks them based on how often they appear and how popular they are. I&#8217;ve found it really interesting to browse around and discover new artists.</p>
<p>However, lately I&#8217;ve been wondering if these blogs are getting a raw deal. From my own personal experience, I can say that recommending music takes a lot of time and effort, especially if you decide to go into detail about your choices. Often, the recommendations which the Hype Machine scans are sourced from <a href="http://soul-sides.com/2009/01/spinners-spin-with-me.html">long</a> <a href="http://discontentblog.com/?p=313">detailed</a> <a href="http://electrorash.com/touch-typist/">blog posts</a>, which I&#8217;d say were put together to provide some context for why the author made those choices on any particular day. These aren&#8217;t put up quickly without little thought. However, I generally never look at these posts when listening to music from the hype machine, as I&#8217;m after that next great track fix. I can&#8217;t imagine that these blogs get much traffic that translates into loyal visitors from the machine. I&#8217;ve previously also heard that many of these blogs get a huge amount of their bandwidth eaten up from the number of downloads/streaming they get as a result. I don&#8217;t know who is to blame here, or if indeed this problem exists, whether the blogs are providing unneccessary background information or getting good results from the machine, but I still feel a little sorry for them all the same.</p>
<p>[Update 2/2/08: One thing I forgot to mention here is that there are alternative services offering a different way of providing music recommendations. I recently discovered the <a href="http://peoplesmusicstore.com">Peoples Music Store</a> which allows users to make music recommendations within their own unique stores. The users get 10% of the sale if people decide to purchase from their stores. I really like the idea, but I&#39;d imagine people might take these recommendations and purchase somewhere cheaper, like amazon.]</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/blogging">blogging</a>,
                
                <a href="/tag/blogs">blogs</a>,
                
                <a href="/tag/hype-machine">hype machine</a>,
                
                <a href="/tag/Music">Music</a>,
                
              
              | <a href="2009/01/31/are-music-blogs-getting-a-raw-deal/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      

      <div class="pagination">
          
          <span class="page_number ">Page: 1 of 2</span>

          
          <a href="/tag/blogging/page/2" class="next">Next</a>
          
      </div>
    <footer>
      <div class="footer-about">
        I'm a Web Developer  working at <a href="http://niftydigits.com">Nifty Digits</a> in Cardiff, UK. Here, I enjoy talking code - mostly javascript. I'm <a href="http://twitter.com/iwootten">@iwootten</a> on twitter.
      </div>
    </footer>
  </div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'ianwootten'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
</body>
</html>

