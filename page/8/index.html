<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ian Wootten - Web Developer, Cardiff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/fonts/open-sans.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-263865-2', 'ianwootten.co.uk');
      ga('send', 'pageview');

    </script>
</head>
<body>

<div class="container blog">
    <header>
      <nav>
      <ul class="nav">
        <li><a class="blog active" href="/">Blog</a></li>
        <li><a class="javascript " href="/category/javascript">Javascript</a></li>
        <li><a class="web-apps " href="/category/web-apps">Web Apps</a></li>
        <li><a class="about" href="/about">About</a></li>
        <li><a class="contact" href="/contact">Contact</a></li>
      </ul>
      </nav>
      <div class="clear"></div>
    </header>

      
        <div class="post">
          <h1><a href="/2011/07/20/lovefilm-filmstream-plugin-v0-2">Lovefilm Filmstream Plugin v0.2</a></h1>
      <div class="author_meta">20 Jul 2011</div>

          <p>Just a quick note to say I&#8217;ve updated the plugin that generates my <a href="http://ianwootten.co.uk/filmstream">filmstream pages</a>. It&#8217;s become obvious that the <a href="http://developer.lovefilm.com">Lovefilm API</a> only exposes the last 10 features that you&#8217;ve rented in their &#8220;at home&#8221; list. This isn&#8217;t that great if you&#8217;ve been renting more than a few months. This is the same as the information you&#8217;d see in your account when logged in.</p>
<p>I&#8217;ve made a simple modification to use the actual ids that <a href="http://lovefilm.com">Lovefilm</a> issue for films, rather than a autoincrement value. This way, there&#8217;s no need to empty what&#8217;s currently stored when updating and we capture the users history of rentals&#8230;</p>
<p>You can grab it over <a href="http://www.ianwootten.co.uk/downloads/filmstream.zip">here</a></p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/lovefilm">lovefilm</a>,
                
                <a href="/tag/plugins">plugins</a>,
                
              
              | <a href="2011/07/20/lovefilm-filmstream-plugin-v0-2/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2011/07/14/participate-don-t-preach">Participate, Don’t Preach</a></h1>
      <div class="author_meta">14 Jul 2011</div>

          <p>Last week, tickets went on sale for dConstruct 2011 and sold out within an impressive 7 hours. Having attended in 2010 and 2008 and judging it to be filled with the highest calibre web celebs from across the globe, I coughed up the entrance fee as part of the excited gold-rush. The cost of £150 includes access to the pre and after parties and the conference itself.</p>
<p>These type of events are stuffed to the brim with amazing, intelligent web professionals, many of whom I would consider to be colleagues. I’ve followed their progress, listened to them speak, bought their publications and hacked on code with them at many other previous events.</p>
<p>It’s often quoted within tech circles that the best parts of these events are not the talks themselves, but the networking parties that surround them. I really struggle in these environments, nervously trying to find a crowd I feel comfortable chatting with, introducing myself and trying to strike up some cutting edge debate on the topics of the day. I’m a developer who usually lurks behind a computer screen for 8 hours a day, so why wouldn’t I find it awkward? It feels like uncharted territory every time I find myself there. Although meeting some great, interesting people, I have ultimately never forged any new lasting relations in this way, where the interaction is somewhat forced and artificial. Maybe it’s just me, but given the com mon nature of everyones work, you’d think it might be easier. As a friend once observed &#8211; it’s like everyone turns up to sell their product, but there are no buyers.</p>
<p>It’s also great to be able to chat within the inner circle of the celebrities who attend. You’ve heard from them all year round and now have a brief opportunity to chat. I guess really I’d love to bounce questions and thoughts off of these guys all evening, but often I get the feeling I’m being evaluated against the rest of the attendees in the room in terms of worthiness. Until you’re edging<br>into such circles yourself, I’m not entirely sure what they would get from these conversations either.</p>
<p>In fact, what I have found is that my most fruitful and long lasting relations have been founded at events when in a participatory nature. Most of these have been Hack Days (where you’re invited to quickly hack together software as an exemplar of new apis from a number of vendors) and some of them have been at Bar Camps (where all attendees have to speak on a subject close to their heart). I feel closer to these people than I could ever do with someone I spoke with briefly in a noisy bar. I’ll also remember faces and names of people even if I never had the chance to interact with them.</p>
<p>This year, a new variety of geek meet has arisen, which flip these more traditional events on their heads and instead focus on providing environments that focus on “the best bits”. They allow everyone to participate on level pegging rather than follow a traditional conference structure. Earlier this month there was <a href=“http://geekkart.in”>Geek Karting</a>, <a href=“http://insitestour.com”>The Insites Tour</a> is kicking off next week and later this year there’s <a href=“http://preparetoactivate.com”>Activate</a>. I really like the idea of these as a way of sparking interesting relationships and I’m hopefully going to head to Insites next week to see what Elliot and Keir have been able to cook up. I’d hope to see more of these unusual types of event and ultimately participate in more of them.</p>
<p>I still feel that conferences have their place, otherwise I wouldn’t have coughed up the fee for dConstruct. I enjoy hearing what these illustrious speakers have to say. That part of the event is still important for sparking debate and learning from for months and years afterward. However, I just don’t find surrounding parties as valuable to me as I first would have thought.</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/dConstruct">dConstruct</a>,
                
                <a href="/tag/events">events</a>,
                
                <a href="/tag/hacking">hacking</a>,
                
                <a href="/tag/Web">Web</a>,
                
              
              | <a href="2011/07/14/participate-don-t-preach/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2011/07/04/maintaining-references-to-sockets-with-express-and-socket-io">Maintaining References to Sockets with Express and Socket.io</a></h1>
      <div class="author_meta">04 Jul 2011</div>

          <p>I hit a frustrating problem when trying to use expressjs alongside <a href="http://socket.io">socket.io</a> recently. The solution may seem somewhat trivial, but I struggled with it for a while, until finally asking for help on the <a href="http://socket.io">socket.io</a> irc channel. I&#8217;m not sure if a better solution exists for my case, but this is what I have for now.</p>
<p>In the main route of my express app, I needed to iterate across an array, performing a REST call using each element as a parameter and spit the results back for socket.io to send out to the browser. To get some idea of what that would look like, imagine the following.</p>
<div class='hljs'><pre><code class='javascript'>app.get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>)</span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &amp;lt; someArray.length; i++){
   <span class="hljs-keyword">var</span> someVariable = doSomething(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, results</span>)</span>{
     socket.emit(<span class="hljs-string">'msg'</span>, results);
  });
  }
});</code></pre></div><p>My problem then became, how do I emit in this way, given my use case? All examples I could find on the <a href="http://socket.io">socket.io</a> homepages demonstrate emitting msgs on connection, like this:</p>
<div class='hljs'><pre><code class='javascript'>io.sockets.on(<span class="hljs-string">'connection'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">socket</span>) </span>{
  <span class="hljs-comment">// send custom events to browser socket</span>
  socket.emit(<span class="hljs-string">'hi'</span>, { <span class="hljs-string">'i can send'</span>: <span class="hljs-string">'json!'</span> });
});</code></pre></div><p>But I wanted to emit messages as part of a loop, within an app route. How would I do that? I could wrap the loop with the connection logic:</p>
<div class='hljs'><pre><code class='javascript'>app.get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>)</span>{
  io.sockets.on(<span class="hljs-string">'connection'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">socket</span>) </span>{
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &amp;lt; someArray.length; i++){
      <span class="hljs-keyword">var</span> someVariable = doSomething(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, results</span>)</span>{
         socket.emit(<span class="hljs-string">'msg'</span>, results);
      });
    }
  });
});</code></pre></div><p>But if I do this, then my connection listener would be added on every refresh of the route. This would mean I&#39;d end up with duplicate binding of event listeners and a load more results messages would be emitted than I&#39;d expect. This would result in crazy behavior for any user who might choose to refresh your app.</p>
<p>Actually, the solution is rather simple although not entirely obvious given the nature of using node. If you maintain a reference to the socket as a global variable and then later emit upon that same socket, like so:</p>
<div class='hljs'><pre><code class='javascript'><span class="hljs-keyword">var</span> global_socket;

io.sockets.on(<span class="hljs-string">'connection'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">socket</span>) </span>{
  global_socket = socket;
});

app.get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>)</span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &amp;lt; someArray.length; i++){
    <span class="hljs-keyword">var</span> someVariable = doSomething(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, results</span>)</span>{
      global_socket.emit(<span class="hljs-string">'msg'</span>, results);
    });
  }
});</code></pre></div><p>This way, a connection will be established and maintained and we won&#39;t get duplicate bindings when refreshing the route of the app. Simple when you know how. I had a rather interesting discussion following this on irc about whether the use of express and socket.io together is warranted, given that socket.io supports use of variable passing and ultimately could entirely replace an express app.</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/express">express</a>,
                
                <a href="/tag/expressjs">expressjs</a>,
                
                <a href="/tag/node">node</a>,
                
                <a href="/tag/nodejs">nodejs</a>,
                
                <a href="/tag/socket.io">socket.io</a>,
                
              
              | <a href="2011/07/04/maintaining-references-to-sockets-with-express-and-socket-io/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2011/05/07/updating-wordpress-automatically-over-sftp">Updating WordPress Automatically over SFTP</a></h1>
      <div class="author_meta">07 May 2011</div>

          <p>Heres a quick how to on getting wordpress to update over SFTP. On a default install of php, wordpress only gives the option to update over FTP. I wanted to get it working as it&#8217;s more secure and means I don&#8217;t have to open up FTP on my virtual server and open another port up in the firewall.</p>
<p>I&#8217;m using ubuntu and the sequence of commands I followed were:</p>
<pre class="bash">sudo apt-get install libssh2-1-dev libssh2-php
</pre>

<p>You should now find that if you list the modules installed in php and check if ssh2 is now there, you get the result &#8220;ssh2&#8243;:</p>
<pre class="bash">php -m | grep ssh2
</pre>

<p>You&#8217;ll need to restart apache for the changes to begin being used.</p>
<pre class="bash">sudo /etc/init.d/apache2 restart
</pre>

<p>If you head to updates in your dashboard, you should now see an extra option &#8220;SSH2&#8243; and spaces for public and private authentication keys. I had to head back to the terminal and create these particular files.</p>
<pre class="bash">cd ~
ssh-keygen
cat .ssh/id_rsa.pub >> .ssh/authorized_keys
chmod 755 .ssh
chmod 644 .ssh/*
sudo chown -R ian:www-data /var/www/pathtowordpress/
</pre>

<p>Now you can head into the updates page again, enter your username and password and the locations to your public and private keys (/home/ian/.ssh/id_rsa.pub and /home/ian/.ssh/id_rsa in my case). If you&#8217;re running ssh on a non standard port, be sure to append that to your hostname. </p>
<p>Thanks to the following helpful posts: <a href="http://kevin.vanzonneveld.net/techblog/article/make\_ssh\_connections\_with\_php/">http://kevin.vanzonneveld.net/techblog/article/make\_ssh\_connections\_with\_php/</a></p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/sftp">sftp</a>,
                
                <a href="/tag/update">update</a>,
                
              
              | <a href="2011/05/07/updating-wordpress-automatically-over-sftp/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2011/03/31/a-survey-of-hype-in-web-development-podcasts">A Survey of Hype in Web Development Podcasts</a></h1>
      <div class="author_meta">31 Mar 2011</div>

          <p>I listen to quite a few web dev podcasts. Something that irks me about a lot of them, is how much they tend to hype their own shows, products or the like. Sure, they&#8217;re allowed to, it is their own podcast after all, often from their own businesses etc. I&#8217;m fully aware this all possibly contributes toward the success of shows, but it annoys me nonetheless. </p>
<p>One of these things is the title of the show itself. I don&#8217;t really get why its necessary to repeat the title (Sure I do really, to drum it into my head), given it&#8217;s going to be within the title of the mp3. I know what I&#8217;m listening to after all, because my favourite media player tells me. </p>
<p>I&#8217;ve been wanting to count the number of times a show utters it&#8217;s name over its duration. Sure, I realise this is somewhat ocd and geeky, but hey. Here&#8217;s my results for a typical set of podcasts that I often listen to in a week. I&#8217;ve linked up the data I&#8217;ve used to create this chart on <a href="https://spreadsheets.google.com/ccc?key=0AiyMcCUnltKwdG85QnNKMnhneUVXMjJNUzVCa0kzNEE&#038;hl=en&#038;pli=1&#038;authkey=CJbb9a0L#gid=0">google spreadsheets</a>, for anyone else who may be interested to contribute to and build upon further. I gathered the data all myself by listening to each podcast and counting when mentions of the show were made but it may be a good excuse for me to experiment with amazon turk. </p>
<p>The big web show comes out tops with one mention over 40 mins worth of show and boagworld comes last with 24 mentions of the show over its duration. (It&#8217;s unfortunate for boagworld that its theme tune includes a voice repeating the title in the theme. I did originally include echos, which would be 34 mentions, but my colleagues inform me this may be taking the experiment a little too far :))</p>
<p>I plan to do the same for product mentions (adverts I guess) in a weeks worth of (different) episodes, but if anyone wants to go ahead and update with their own findings that would be great.</p>
<p><a href="http://www.ianwootten.co.uk/wp-content/uploads/2011/03/chart_1.png"><img src="http://www.ianwootten.co.uk/wp-content/uploads/2011/03/chart_1.png" alt="" title="Own Web Show Mentions per Minute" width="600" height="371" class="alignnone size-full wp-image-445" /></a></p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/Web-Apps">Web Apps</a>,
                
                <a href="/tag/web-development">web development</a>,
                
              
              | <a href="2011/03/31/a-survey-of-hype-in-web-development-podcasts/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      

      <div class="pagination">
          
          <a href="/page/7" class="previous">Previous</a>
          
          <span class="page_number ">Page: 8 of 57</span>

          
          <a href="/page/9" class="next">Next</a>
          
      </div>
    <footer>
      <div class="footer-about">
        I'm a Web Developer  working at <a href="http://niftydigits.com">Nifty Digits</a> in Cardiff, UK. Here, I enjoy talking code - mostly javascript. I'm <a href="http://twitter.com/iwootten">@iwootten</a> on twitter.
      </div>
    </footer>
  </div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'ianwootten'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
</body>
</html>

