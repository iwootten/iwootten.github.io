<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ian Wootten - Web Developer, Cardiff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/fonts/open-sans.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-263865-2', 'ianwootten.co.uk');
      ga('send', 'pageview');

    </script>
</head>
<body>

<div class="container blog">
    <header>
      <nav>
      <ul class="nav">
        <li><a class="blog active" href="/">Blog</a></li>
        <li><a class="javascript " href="/category/javascript">Javascript</a></li>
        <li><a class="web-apps " href="/category/web-apps">Web Apps</a></li>
        <li><a class="about" href="/about">About</a></li>
        <li><a class="contact" href="/contact">Contact</a></li>
      </ul>
      </nav>
      <div class="clear"></div>
    </header>

      
        <div class="post">
          <h1><a href="/2008/01/05/decrypting-filezilla-passwords-with-php">Decrypting Filezilla Passwords with PHP</a></h1>
      <div class="author_meta">05 Jan 2008</div>

          <p>One of the most frustrating things I find in managing a number of websites is that I&#8217;m always forgetting passwords. The version of Filezilla I&#8217;m running however makes it easy to remember them again through its use of weak XOR encryption and a the key being hard coded into the software. I&#8217;ve used a program previously called the <a href="http://www.devpro.it/filezilla_pr/">Filezilla Password Recover</a>, but it turns out that this is also extremely easy to extract them using a simple PHP script. The following code makes use of the nice XML parsing in PHP5 and a decryption function I found over <a href="http://www.thinksheep.nl/php-filezilla-passwords-ophalen">here</a>. I&#8217;ve added some comments to roughly describe what is going on.</p>
<p>Note: Apparently this encryption has been dropped from version 3 with absolutely no encryption featured at all, that&#8217;ll make my job easier now.</p>
<div class='hljs'><pre><code class='php'><span class="hljs-variable">$filezilla_password_file</span> = <span class="hljs-string">"FileZilla.xml"</span>;

<span class="hljs-variable">$xml</span> = file_get_contents(<span class="hljs-variable">$filezilla_password_file</span>);

<span class="hljs-variable">$simple_xml</span> = simplexml_load_string(<span class="hljs-variable">$xml</span>);

<span class="hljs-keyword">foreach</span>(<span class="hljs-variable">$simple_xml</span>-&gt;Sites-&gt;Site <span class="hljs-keyword">as</span> <span class="hljs-variable">$site</span>)
{
    <span class="hljs-variable">$attributes</span> =  <span class="hljs-variable">$site</span>-&gt;attributes();

    <span class="hljs-keyword">print</span> <span class="hljs-string">"Site: "</span>.<span class="hljs-variable">$attributes</span>-&gt;Name.<span class="hljs-string">"\n"</span>;
    <span class="hljs-keyword">print</span> <span class="hljs-string">"User: "</span>.<span class="hljs-variable">$attributes</span>-&gt;User.<span class="hljs-string">"\n"</span>;
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Encrypted Pass: "</span>.<span class="hljs-variable">$attributes</span>-&gt;Pass.<span class="hljs-string">"\n"</span>;
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Unencrypted Pass:"</span>.decryptPass((string)<span class="hljs-variable">$attributes</span>-&gt;Pass).<span class="hljs-string">"\n\n"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">decryptPass</span><span class="hljs-params">(<span class="hljs-variable">$pass</span>)</span>
</span>{
        <span class="hljs-comment">// Encryption Key for FileZilla 2 Passwords</span>
    <span class="hljs-variable">$key</span> = <span class="hljs-string">"FILEZILLA1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span>;

    <span class="hljs-comment">// Find the offset position in the key for this pass</span>
    <span class="hljs-variable">$pos</span>=(strlen(<span class="hljs-variable">$pass</span>)/<span class="hljs-number">3</span>) % strlen(<span class="hljs-variable">$key</span>);
    <span class="hljs-variable">$decrypt</span> = <span class="hljs-string">''</span>;

    <span class="hljs-variable">$t</span>=<span class="hljs-number">0</span>;

    <span class="hljs-comment">//Loop through each 3rd of the password</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-variable">$i</span>=<span class="hljs-number">0</span>;<span class="hljs-variable">$i</span> &amp;lt; strlen(<span class="hljs-variable">$pass</span>) / <span class="hljs-number">3</span>;<span class="hljs-variable">$i</span>++) {

        <span class="hljs-comment">//Get 3 characters, remove the 0 at the</span>
    <span class="hljs-comment">//front to get ASCII code to represent the character</span>
    <span class="hljs-variable">$num</span> = substr(<span class="hljs-variable">$pass</span>,<span class="hljs-variable">$i</span> * <span class="hljs-number">3</span>,<span class="hljs-number">3</span>);

    <span class="hljs-keyword">if</span> (substr(<span class="hljs-variable">$num</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>) == <span class="hljs-number">0</span>) {
        <span class="hljs-variable">$num</span> = substr(<span class="hljs-variable">$num</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);
    }

    <span class="hljs-comment">//Get the ascii code of the unencrypted character</span>
    <span class="hljs-comment">//by performing XOR against current ASCII and key</span>
    <span class="hljs-comment">//before converting back and adding to decrypted pass</span>
        <span class="hljs-variable">$t</span> = <span class="hljs-variable">$num</span> ^ ord(<span class="hljs-variable">$key</span>[(<span class="hljs-variable">$i</span> + <span class="hljs-variable">$pos</span>) % strlen(<span class="hljs-variable">$pass</span>)]);
         <span class="hljs-variable">$decrypt</span> .= chr(<span class="hljs-variable">$t</span>);

    }

    <span class="hljs-comment">// Return the decrypted pass</span>
       <span class="hljs-keyword">return</span> <span class="hljs-variable">$decrypt</span>;
}</code></pre></div>

          <div class="entry_content">Tagged
              
                
                <a href="/tag/decryption">decryption</a>,
                
                <a href="/tag/filezilla">filezilla</a>,
                
                <a href="/tag/PHP">PHP</a>,
                
              
              | <a href="2008/01/05/decrypting-filezilla-passwords-with-php/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2007/12/20/stick-to-your-guns-you-ll-be-rewarded">Stick to your guns - You&#39;ll be rewarded</a></h1>
      <div class="author_meta">20 Dec 2007</div>

          <p>I&#8217;m a firm believer that by upholding my own principles, I&#8217;ll be rewarded. It&#8217;s a tag line I adopted for the <a href="http://www.xen10.com">small hosting company</a> that I&#8217;ve been running for a while now. It also has been reflected this year in a nasty situation I was left in with my landlords, the council and a previous housemate (who doesn&#8217;t really deserve that title, more just a person whom shared the house). In all these situations things have turned out better for me in the long run, due to myself re-enforcing what I believe should be done &#8211; even if it does mean a longer struggle through.</p>
<p>Today, one of my favourite breaks record labels (Marine Parade) were offering a compo to win a cd by responding to them over myspace. (Ok, maybe a somewhat less grandiose scenario than this post may have made out, but still!) I&#8217;ve long refused to sign up to myspace out of principles (it looks bloody awful, mainly) so I sent them a message to point it out:</p>
<blockquote>
<p>As much as I&#8217;d like to respond to get the cd via myspace, I feel I shouldn&#8217;t have to be forced to use that poor excuse for an interweb page.</p>
<p>Anyway, here is my address just in case you feel like sending me Adam Freelands &#8211; Tectonics.</p>
</blockquote>
<p>To my joy, they didn&#8217;t care!</p>
<blockquote>
<p>fair enough, you get one!</p>
</blockquote>
<p>I don&#8217;t think I&#8217;ve ever won a competition due to principles. Maybe I should start bending the rules of other competitions and still try to win prizes?</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/hosting">hosting</a>,
                
                <a href="/tag/marine-parade">marine parade</a>,
                
                <a href="/tag/principles">principles</a>,
                
                <a href="/tag/standards">standards</a>,
                
              
              | <a href="2007/12/20/stick-to-your-guns-you-ll-be-rewarded/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2007/09/20/undeserved-job-titles">Undeserved Job Titles</a></h1>
      <div class="author_meta">20 Sep 2007</div>

          <p>Today on the return from uni I passed the new Subway that is opening up soon near Queen Street train station. On one of their job adverts, they were advertising for team leaders and <em>sandwich artists</em>. I&#8217;ve never really noticed my sandwiches being arranged in a artistic fashion before, maybe it would brighten my day if they were. I feel sorry for the poor art school graduate who ends up filling baguettes for a living.</p>
<p>Does anyone else have examples of jobs with somewhat over enthusiastic job titles?</p>


          <div class="entry_content">Tagged
              
                
                <a href="/tag/humour">humour</a>,
                
              
              | <a href="2007/09/20/undeserved-job-titles/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2007/09/20/first-cardiff-geek-meetup">First Cardiff Geek Meetup</a></h1>
      <div class="author_meta">20 Sep 2007</div>

          <p>The <a href="http://www.cardiffgeeks.net">Cardiff geeks</a> will be <a href="http://upcoming.yahoo.com/event/268798/">having its first ever face to face on Wednesday 17th October from 7pm</a> at <a href="http://www.cafefloyd.co.uk">Cafe Floyd</a>, just <a href="http://maps.google.co.uk/maps?f=q&#038;hl=en&#038;q=CF10%201PT&#038;ie=UTF8&#038;om=1&#038;z=16&#038;iwloc=addr">opposite the castle</a>. Props to <a href="http://www.oreillynet.com/pub/au/2379">Dan Zambonini</a> for organising the venue.</p>
<p>This is an informal, introduction between us all. If you&#8217;re a geek, or interested in chatting with us about what we and you are passionate about, make sure you get over there!</p>


          <div class="entry_content">Tagged
              
              | <a href="2007/09/20/first-cardiff-geek-meetup/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      
        <div class="post">
          <h1><a href="/2007/09/11/fowa-roadtrip-cardiff">FOWA Roadtrip Cardiff</a></h1>
      <div class="author_meta">11 Sep 2007</div>

          <p>Yes, yes I know I already posted about the <a href="http://www.ianwootten.co.uk/2007/08/08/fowa-roadtrip-bristol/">FOWA Roadtrip in Bristol</a>, but I live in Cardiff and have friends and <a href="http://www.gr0w.com">colleagues in Bristol too</a>. I promise I didn&#8217;t just head there for free drinks once again. This time the <a href="http://www.carsonsystems.com">Carson Systems team</a> had pulled together some funky little <a href="http://www.futureofwebapps.com/roadtrip/">FOWA Roadtrip</a> badges that they handed out on the door, rather than the stickers at Bristol. I&#8217;d previously learned that Ryan&#8217;s wife, Gillian had taken a MSc in Cardiff and it seems the same is true of <a href="http://carsonsystems.com/about.html">Lisa Price</a> too. I had a really interesting conversation with Lisa about how Future Publishing (whom she previously worked for) produced one of my favourite mags (PCFormat) back in my adolescence. (I actually still own all the magazines I bought for like 3 years and harbour plans to ship them back to Future in Bath, along with all the CDs).</p>
<p>Anyway, it was grand that those who were involved in the web app scene in Cardiff finally made it to an event together, and our newly formed <a href="http://cardiffgeeks.net">Cardiff Geeks</a> group is already scheming to stage another meet up for geeky people. (It&#8217;s a good label, it&#8217;s a nerd you don&#8217;t want to be).</p>
<p><a href="http://www.flickr.com/photos/carsonified/tags/fowaroadtripcardiff/"><img src="http://farm2.static.flickr.com/1142/1359810846_449643700f.jpg" /></a></p>


          <div class="entry_content">Tagged
              
              | <a href="2007/09/11/fowa-roadtrip-cardiff/#disqus_thread">Leave a comment</a>
          </div>
        </div>
      

      <div class="pagination">
          
          <a href="/page/14" class="previous">Previous</a>
          
          <span class="page_number ">Page: 15 of 57</span>

          
          <a href="/page/16" class="next">Next</a>
          
      </div>
    <footer>
      <div class="footer-about">
        I'm a Web Developer  working at <a href="http://niftydigits.com">Nifty Digits</a> in Cardiff, UK. Here, I enjoy talking code - mostly javascript. I'm <a href="http://twitter.com/iwootten">@iwootten</a> on twitter.
      </div>
    </footer>
  </div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'ianwootten'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
</body>
</html>

