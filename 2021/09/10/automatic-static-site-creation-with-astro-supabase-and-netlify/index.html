<!DOCTYPE html>
<html lang="en" class="motion-safe:scroll-smooth 2xl:text-[20px]">
	<head>
		<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Automatic Static Site Creation with Astro, Supabase and Netlify — Ian Wootten</title>
<meta name="robots" content="index,follow" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="og:title" content="Automatic Static Site Creation with Astro, Supabase and Netlify" />
<meta property="og:url" content="https://www.ianwootten.co.uk/2021/09/10/automatic-static-site-creation-with-astro-supabase-and-netlify/" />
<meta property="og:type" content="article" />
<meta property="og:image" content="https://www.ianwootten.co.uk/assets/opengraph.333b44bd.jpg" />
<meta property="og:image:alt" content="Automatic Static Site Creation with Astro, Supabase and Netlify" />
<link rel="canonical" href="https://www.ianwootten.co.uk/2021/09/10/automatic-static-site-creation-with-astro-supabase-and-netlify/" />


<!-- Or Google Fonts -->

<meta name="google-site-verification" content="orcPxI47GSa-cRvY11tUe6iGg2IO_RPvnA1q95iEM3M">



<script defer data-domain="ianwootten.co.uk" src="https://analytics.niftydigits.com/js/plausible.js"></script>

<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="mask-icon" href="/favicon.svg" color="#8D46E7">


	<link rel="stylesheet" href="/assets/_...page_.df78e7a3.css" />
<link rel="stylesheet" href="/assets/index.a49322ed.css" /><script type="module" src="/hoisted.4e5511b3.js"></script>
<script>!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.7.3 - MIT builder.io */
!function(t,e,n,i,r,o,a,d,s,c,p,l){function u(){l||(l=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(w,1e4),e.addEventListener("pt0",f),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):w())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.7.3":"sandbox-sw.html?"+Date.now()),e.body.appendChild(c)}function w(t,n){for(f(),t=0;t<s.length;t++)(n=e.createElement("script")).innerHTML=s[t].innerHTML,e.head.appendChild(n);c&&c.parentNode.removeChild(c)}function f(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){p=t,e.split(".").map((function(e,n,i){p=p[i[n]]=n+1<i.length?"push"==i[n+1]?[]:p[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);</script></head>

	<body class="antialiased text-gray-900 dark:text-slate-300 tracking-tight bg-white dark:bg-slate-900">
		<header class="sticky top-0 z-40 flex-none mx-auto w-full bg-white md:bg-white/90 dark:bg-slate-900 dark:md:bg-slate-900/90 md:backdrop-blur-sm border-b dark:border-b-0">
	<div class="py-3 px-3 mx-auto w-full md:flex md:justify-between max-w-6xl md:px-4">
		<div class="flex justify-between">
			<a class="flex items-center" href="/">
				<span class="self-center ml-2 text-2xl font-extrabold text-gray-900 whitespace-nowrap dark:text-white">
	💻&nbsp;&nbsp;Ian Wootten</span>
			</a>
			<div class="flex items-center md:hidden">
				<button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-aw-toggle-color-scheme>
	<svg viewBox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:sun"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="12" cy="12" r="4"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></g></svg>
</button>
				<button type="button" class="ml-1.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center transition" aria-label="Toggle Menu" data-aw-toggle-menu>
	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:menu"><g class="icon-tabler" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 8h16"/><path d="M4 16h16"/></g></svg>
</button>
			</div>
		</div>
		<nav class="items-center w-full md:w-auto hidden md:flex text-gray-600 dark:text-slate-200 h-screen md:h-auto" aria-label="Main navigation" id="menu">
			<ul class="flex flex-col pt-8 md:pt-0 md:flex-row md:self-center w-full md:w-auto collapsed text-xl md:text-base">
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/blog/">Blog</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/about/">About</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="/work-with-me/">Work With Me</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://niftydigits.gumroad.com/">Products
					</a>
				</li>
				<li>
					<a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://newsletter.ianwootten.co.uk">Subscribe
					</a>
				</li>
				<li class="md:hidden">
					<a class="font-bold hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://github.com/iwootten">Github
					</a>
				</li>
			</ul>
			<div class="md:self-center flex items-center mb-4 md:mb-0 ml-2">
				<div class="hidden items-center md:flex">
					<button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-aw-toggle-color-scheme>
	<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:sun"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="12" cy="12" r="4"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></g></svg>
</button>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="RSS Feed" href="/rss.xml">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:rss"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"/></g></svg>
					</a>
					<a href="https://github.com/iwootten" class="inline-block text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5" aria-label="Ian's Github">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
					</a>
				</div>
			</div>
		</nav>
	</div>
</header><main>
		<section class="py-8 sm:py-16 lg:py-20 mx-auto">
	<article>
		<header>
			<p class="max-w-3xl mx-auto text-center">
				<time datetime="2021-09-10T09:27:51.000Z">Sep 10, 2021</time> ~ 6 min read
			</p>
			<h1 class="px-4 sm:px-6 max-w-3xl mx-auto text-center text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-8 font-heading">
				Automatic Static Site Creation with Astro, Supabase and Netlify
			</h1>
			<div class="container text-center mx-auto px-8 sm:px-6 max-w-3xl mt-8">
				<ul class="text-sm">
			<li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/web-scraping/">web scraping</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/spotify/">spotify</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/serverless/">serverless</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/supabase/">supabase</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/astro/">astro</a>
				</li><li class="bg-gray-100 dark:bg-slate-700 inline-block mr-2 mb-2 py-0.5 px-2">
					<a href="/tags/js/">js</a>
				</li>
		</ul>
			</div>
			
		</header>
		<div class="container mx-auto px-6 sm:px-6 max-w-3xl prose prose-lg lg:prose-xl dark:prose-invert dark:prose-headings:text-slate-300 prose-md prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-primary-600 dark:prose-a:text-primary-400 prose-img:rounded-md prose-img:shadow-lg mt-8">
			<p>This week, I revealed <a href="https://mixes.it">mixes.it</a> - a very simple site I’ve created for indexing DJ mixes scraped from the web. I wanted a no-frills site that I could get Spotify playlists of DJ’s I like to see what new music they were playing and that I didn’t have to spend much time supporting.</p>
<p>I used <a href="https://astro.build">Astro</a> and <a href="https://supabase.com">Supabase</a> to create the site itself and the whole thing is currently built using <a href="https://netlify.com">Netlify</a>. The nice thing about this is that the sites creation is completely automated once my scraping workflow has collected new data to my database and triggered a build hook on Netlify.</p>
<h2 id="working-with-astro">Working with Astro</h2>
<p><a href="https://astro.build">Astro</a> is a new framework to help you ship less JavaScript in your static sites. It’s designed so you can use your own framework of choice - be it React, Vue, something else or even HTML and CSS (!). It also has some other nice features such as automatic sitemap generation.</p>
<p>I could have looked at other frameworks like 11ty (which is probably the sensible route given the amount of other devs using it), but I fancied playing with something new and shiny.</p>
<p>Astro is really simple to work with, using a <a href="https://docs.astro.build/core-concepts/astro-components">page and component syntax</a> very similar to JSX. It works very much like a static site generator, like Hugo or Jekyll. Creating a page within the pages directory maps directly to the final builds location, so pages/index.astro goes to your index page.</p>
<p>My whole mixes.it site consists of just 3 components and two pages. Here’s the code behind my pages/index.astro page.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#FF7B72">---</span></span>
<span class="line"><span style="color:#8B949E">// Component Imports</span></span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> Mixes </span><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&#39;../components/Mixes&#39;</span><span style="color:#C9D1D9">;</span></span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> Nav </span><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&#39;../components/Nav&#39;</span><span style="color:#C9D1D9">;</span></span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> Header </span><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&#39;../components/Header&#39;</span><span style="color:#C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">title</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&#39;mixes.it - The Best DJ Mix Playlists from around the web&#39;</span><span style="color:#C9D1D9">;</span></span>
<span class="line"><span style="color:#FF7B72">---</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">html</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">lang</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;en&quot;</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">Header</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">title</span><span style="color:#FF7B72">={</span><span style="color:#C9D1D9">title</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">body</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">div</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">class</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;container&quot;</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">        &lt;</span><span style="color:#7EE787">main</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">            &lt;</span><span style="color:#7EE787">Nav</span><span style="color:#C9D1D9"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">            &lt;</span><span style="color:#7EE787">Mixes</span><span style="color:#C9D1D9"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">        &lt;/</span><span style="color:#7EE787">main</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;/</span><span style="color:#7EE787">div</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">body</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">html</span><span style="color:#C9D1D9">&gt;</span></span></code></pre>
<p>You can see each of the components here, which are all fairly self explanatory. The mixes component breaks down to the code you see below, where you can see I’m pulling my data from Supabase using its REST API and using a map on the results to generate a table of mixes. I found working with a fetch call much simpler than interpreting the Supabase clients return errors and this way we don’t have any additional dependencies to install over Astro itself.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#FF7B72">---</span></span>
<span class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">response</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">await</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">fetch</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">`${</span><span style="color:#C9D1D9">__SNOWPACK_ENV__</span><span style="color:#A5D6FF">.</span><span style="color:#79C0FF">SNOWPACK_PUBLIC_SUPABASE_URL</span><span style="color:#A5D6FF">}/rest/v1/mixes?select=*&amp;order=first_broadcast.desc`</span><span style="color:#C9D1D9">, {headers: {</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#A5D6FF">&#39;apikey&#39;</span><span style="color:#C9D1D9">: __SNOWPACK_ENV__.</span><span style="color:#79C0FF">SNOWPACK_PUBLIC_SUPABASE_KEY</span></span>
<span class="line"><span style="color:#C9D1D9">}});</span></span>
<span class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">mixes</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">await</span><span style="color:#C9D1D9"> response.</span><span style="color:#D2A8FF">json</span><span style="color:#C9D1D9">();</span></span>
<span class="line"><span style="color:#FF7B72">---</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">table</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">class</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;table table-striped table-hover&quot;</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;</span><span style="color:#7EE787">thead</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">tr</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">      &lt;</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">scope</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;col&quot;</span><span style="color:#C9D1D9">&gt;Title&lt;/</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">      &lt;</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">scope</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;col&quot;</span><span style="color:#C9D1D9">&gt;Artist&lt;/</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">      &lt;</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">scope</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;col&quot;</span><span style="color:#C9D1D9">&gt;Broadcast&lt;/</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">      &lt;</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">scope</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;col&quot;</span><span style="color:#C9D1D9">&gt;Spotify Playlist&lt;/</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;/</span><span style="color:#7EE787">tr</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;/</span><span style="color:#7EE787">thead</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;</span><span style="color:#7EE787">tbody</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mixes</span></span>
<span class="line"><span style="color:#C9D1D9">        .</span><span style="color:#D2A8FF">filter</span><span style="color:#C9D1D9">(</span><span style="color:#FFA657">x</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> x.spotify_playlist)</span></span>
<span class="line"><span style="color:#C9D1D9">        .</span><span style="color:#D2A8FF">map</span><span style="color:#C9D1D9">((</span><span style="color:#FFA657">mix</span><span style="color:#C9D1D9">) </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> (</span></span>
<span class="line"><span style="color:#C9D1D9">            &lt;</span><span style="color:#7EE787">tr</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">            &lt;</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;&lt;</span><span style="color:#7EE787">a</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">href</span><span style="color:#FF7B72">={</span><span style="color:#A5D6FF">`./mix/${</span><span style="color:#C9D1D9">mix</span><span style="color:#A5D6FF">.</span><span style="color:#C9D1D9">id</span><span style="color:#A5D6FF">}`</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mix.title</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">a</span><span style="color:#C9D1D9">&gt;&lt;/</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">            &lt;</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mix.artist</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">            &lt;</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mix.first_broadcast</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">            &lt;</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;&lt;</span><span style="color:#7EE787">a</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">href</span><span style="color:#FF7B72">={</span><span style="color:#C9D1D9">mix.spotify_playlist</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&gt;[Spotify]&lt;/</span><span style="color:#7EE787">a</span><span style="color:#C9D1D9">&gt;&lt;/</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">            &lt;/</span><span style="color:#7EE787">tr</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">        ))</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">}</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">tbody</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">table</span><span style="color:#C9D1D9">&gt;</span></span></code></pre>
<p>The part of this that took me the longest was actually finding a way of getting environment variables to propagate from the .env file I had created to my views. Snowpack, on which Astro is based can have this feature enabled when @snowpack/plugin-dotenv is installed. However, it will only read environment vars <a href="https://www.snowpack.dev/reference/environment-variables">when they are prefixed with “SNOWPACK_PUBLIC_”</a>, in order to ensure you understand they will be exposed in the application at build time. As I don’t actually use the variables within the content of my HTML, this isn’t a worry as the JS is removed.</p>
<h2 id="dynamic-routes">Dynamic Routes</h2>
<p>As well as the main index page, I wanted individual pages for each of the mixes found. This is achievable using [bracket] notation where a file at pages/mix/[mid].astro would be responsible for returning mix/1 mix/2 etc.</p>
<p>Within this page, it’s necessary to define a getStaticPaths function for returning all the individual id’s and page content that would need to be known at build time. Here’s how that individual page looks in my app.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#FF7B72">---</span></span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> Header </span><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&#39;../../components/Header&#39;</span><span style="color:#C9D1D9">;</span></span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> Nav </span><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&#39;../../components/Nav&#39;</span><span style="color:#C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72">export</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">async</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">getStaticPaths</span><span style="color:#C9D1D9">() {</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">response</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">await</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">fetch</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">`${</span><span style="color:#C9D1D9">__SNOWPACK_ENV__</span><span style="color:#A5D6FF">.</span><span style="color:#79C0FF">SNOWPACK_PUBLIC_SUPABASE_URL</span><span style="color:#A5D6FF">}/rest/v1/mixes?select=*,mixes_tracks(artistname,trackname,label)`</span><span style="color:#C9D1D9">, {headers: {</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#A5D6FF">&#39;apikey&#39;</span><span style="color:#C9D1D9">: __SNOWPACK_ENV__.</span><span style="color:#79C0FF">SNOWPACK_PUBLIC_SUPABASE_KEY</span></span>
<span class="line"><span style="color:#C9D1D9">    }});</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">mixes</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">await</span><span style="color:#C9D1D9"> response.</span><span style="color:#D2A8FF">json</span><span style="color:#C9D1D9">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> mixes.</span><span style="color:#D2A8FF">map</span><span style="color:#C9D1D9">((</span><span style="color:#FFA657">mix</span><span style="color:#C9D1D9">) </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> {</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> { </span></span>
<span class="line"><span style="color:#C9D1D9">            params: { mid: mix.id.</span><span style="color:#D2A8FF">toString</span><span style="color:#C9D1D9">() },</span></span>
<span class="line"><span style="color:#C9D1D9">            props: { mix }</span></span>
<span class="line"><span style="color:#C9D1D9">        };</span></span>
<span class="line"><span style="color:#C9D1D9">    });</span></span>
<span class="line"><span style="color:#C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> {</span><span style="color:#79C0FF">mid</span><span style="color:#C9D1D9">} </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> Astro.request.params;</span></span>
<span class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> {</span><span style="color:#79C0FF">mix</span><span style="color:#C9D1D9">} </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> Astro.props;</span></span>
<span class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">title</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">`${</span><span style="color:#C9D1D9">mix</span><span style="color:#A5D6FF">.</span><span style="color:#C9D1D9">title</span><span style="color:#A5D6FF">} - ${</span><span style="color:#C9D1D9">mix</span><span style="color:#A5D6FF">.</span><span style="color:#C9D1D9">artist</span><span style="color:#A5D6FF">}: mixes.it`</span></span>
<span class="line"><span style="color:#FF7B72">---</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">html</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">lang</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;en&quot;</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">Header</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">title</span><span style="color:#FF7B72">={</span><span style="color:#C9D1D9">title</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">body</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">div</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">class</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;container&quot;</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">Nav</span><span style="color:#C9D1D9"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">h1</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mix.title</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9"> - </span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mix.artist</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">h1</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">p</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mix.first_broadcast</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">p</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">p</span><span style="color:#C9D1D9">&gt;&lt;</span><span style="color:#7EE787">a</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">href</span><span style="color:#FF7B72">={</span><span style="color:#C9D1D9">mix.url</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mix.url</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">a</span><span style="color:#C9D1D9">&gt;&lt;/</span><span style="color:#7EE787">p</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">a</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">class</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;btn btn-success&quot;</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">href</span><span style="color:#FF7B72">={</span><span style="color:#C9D1D9">mix.spotify_playlist</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&gt;Spotify Playlist&lt;/</span><span style="color:#7EE787">a</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;</span><span style="color:#7EE787">table</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">class</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;table table-striped table-hover&quot;</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;</span><span style="color:#7EE787">thead</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">tr</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">      &lt;</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">scope</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;col&quot;</span><span style="color:#C9D1D9">&gt;#&lt;/</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">      &lt;</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">scope</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;col&quot;</span><span style="color:#C9D1D9">&gt;Track&lt;/</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">      &lt;</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">scope</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;col&quot;</span><span style="color:#C9D1D9">&gt;Artist&lt;/</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">      &lt;</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">scope</span><span style="color:#FF7B72">=</span><span style="color:#A5D6FF">&quot;col&quot;</span><span style="color:#C9D1D9">&gt;Label&lt;/</span><span style="color:#7EE787">th</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;/</span><span style="color:#7EE787">tr</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;/</span><span style="color:#7EE787">thead</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;</span><span style="color:#7EE787">tbody</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">mix.mixes_tracks.</span><span style="color:#D2A8FF">map</span><span style="color:#C9D1D9">((</span><span style="color:#FFA657">track</span><span style="color:#C9D1D9">, </span><span style="color:#FFA657">index</span><span style="color:#C9D1D9">) </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> (</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;</span><span style="color:#7EE787">tr</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">index </span><span style="color:#FF7B72">+</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">1</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">track.trackname</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">track.artistname</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">    &lt;</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span><span style="color:#FF7B72">{</span><span style="color:#C9D1D9">track.label</span><span style="color:#FF7B72">}</span><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">td</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;/</span><span style="color:#7EE787">tr</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">))</span><span style="color:#FF7B72">}</span></span>
<span class="line"><span style="color:#C9D1D9">  &lt;/</span><span style="color:#7EE787">tbody</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">table</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">div</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">body</span><span style="color:#C9D1D9">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9">&lt;/</span><span style="color:#7EE787">html</span><span style="color:#C9D1D9">&gt;</span></span></code></pre>
<p>The getStaticPaths function could in fact just return a list of mix ids, however we want to display the mix data returned within the page so it needs us to map the array so we can pass the full mix object as a prop and access it within the page.</p>
<h2 id="building-with-netlify">Building with Netlify</h2>
<p>Building the final site is a simple <code>npm run build</code>, so can be executed on any continuous integration platform you choose. I’ve opted for netlify as it’s free for publishing sites for my purposes and has the simplest amount of configuration I need to setup.</p>
<p>Exposing my project as a github repo complete with a <code>netlify.toml</code> file means that its incredibly simple to get my site visible on the web.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">[</span><span style="color:#FFA657">build</span><span style="color:#C9D1D9">]</span></span>
<span class="line"><span style="color:#C9D1D9">  command = </span><span style="color:#A5D6FF">&quot;npm run build&quot;</span></span>
<span class="line"><span style="color:#C9D1D9">  publish = </span><span style="color:#A5D6FF">&quot;dist&quot;</span></span></code></pre>
<p>I also added a Netlify build hook, so that I could trigger builds from my scraping workflow. Netlify makes this easy, allowing you to select the relevant branch from a project and request a hook URL. Once created, you can make a POST request to that hook and trigger a build.</p>
<picture>
			<source type="image/avif" srcset="/assets/netlify-hook.51774c53_1RKB85.avif 400w,/assets/netlify-hook.51774c53_Z1JM6iI.avif 900w"><source type="image/webp" srcset="/assets/netlify-hook.51774c53_Z2t5HI5.webp 400w,/assets/netlify-hook.51774c53_Z11rhkW.webp 900w"><source type="image/png" srcset="/assets/netlify-hook.51774c53_ZfjYCV.png 400w,/assets/netlify-hook.51774c53_2pCH9e.png 900w">
			<img width="900" height="311" src="/assets/netlify-hook.51774c53_ZIOQQK.png" loading="lazy" decoding="async" class="">
		</picture>
<p>All that remains is configuring your custom domain to point to netlify correctly, which you can find details of within “Domain management” in Netlify.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This was a quick an dirty example with Astro, but I feel one that really shows the power of these tools together. I like that I can pick and choose sources to push back to Supabase and kick off builds asynchronously when updates have been made from scraping data. I’m planning on adding a number of other sources over time.</p>
<p>It’s mostly completely hands off, except for if I’d like to make changes (which lets face it I most likely will). With netlify in hand, these changes are immediately published when pushed back to my github repo.</p>
<p>In a future article, I will detail how you can scrape data to Supabase in the way I’m doing here to something structured (like a playlist) for use at a later date.</p>
		</div>
	</article>
	<section class="relative">
	<div class="max-w-6xl mx-auto px-4 sm:px-6">
		<div class="py-12 md:py-20">
			<div class="max-w-3xl mx-auto text-center p-6 rounded-md shadow-xl dark:shadow-none">
				<h2 class="text-4xl md:text-4xl font-bold leading-tighter tracking-tighter mb-4 font-heading">
					Subscribe for more
				</h2>
				<p class="text-xl text-gray-600 dark:text-slate-400">
					My monthly newsletter is stuffed with helpful articles, tools and code. No spam, unsubscribe any time. 
				</p>

				<div class="mt-6">
					<form class="text-right" id="ghost-form" name="revue-form" target="_blank">
					<input class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm dark:placeholder-slate-700 dark:text-slate-900
					focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500" placeholder="Your email address..." type="email" name="email" id="subscribe_email">
					<input class="mt-3  btn text-white bg-primary-600 hover:bg-primary-800 mb-4 sm:mb-0" type="button" value="Subscribe" name="subscribe" id="subscribe_submit">
					</form>
				</div>
			</div>
		</div>
	</div>
</section>

</section>
	</main><footer class="border-t border-gray-200 dark:border-slate-800">
	<div class="max-w-6xl mx-auto px-4 sm:px-6">
		<div class="md:flex md:items-center md:justify-between py-6 md:py-8">
			<ul class="flex mb-4 md:order-1 -ml-2 md:ml-4 md:mb-0">
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Twitter" href="https://twitter.com/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-twitter"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 0 0 .497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="YouTube" href="https://youtube.com/IanWootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-youtube"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><rect width="18" height="14" x="3" y="5" rx="4"/><path d="m10 9 5 3-5 3z"/></g></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Github" href="https://github.com/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="LinkedIn" href="https://linkedin.com/in/iwootten">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><rect width="16" height="16" x="4" y="4" rx="2"/><path d="M8 11v5M8 8v.01M12 16v-5M16 16v-3a2 2 0 0 0-4 0"/></g></svg>
					</a>
				</li>
				<li>
					<a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="RSS" href="/rss.xml">
						<svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:rss"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"/></g></svg>
					</a>
				</li>
			</ul>
			<div class="text-sm text-gray-700 mr-4 dark:text-slate-400">
				&copy; 2003-2022 Ian Wootten
			</div>
		</div>
	</div>
</footer>
		<script>
	// Set "light" theme as default
	// if (!localStorage.theme) {
	//   localStorage.theme = "light";
	// }

	if (
		localStorage.theme === 'dark' ||
		(!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
	) {
		document.documentElement.classList.add('dark');
	} else {
		document.documentElement.classList.remove('dark');
	}

	function attachEvent(selector, event, fn) {
		const matches = document.querySelectorAll(selector);
		if (matches && matches.length) {
			matches.forEach((elem) => {
				elem.addEventListener(event, () => fn(elem), false);
			});
		}
	}

	window.onload = function () {
		attachEvent('[data-aw-toggle-menu]', 'click', function (elem) {
			elem.classList.toggle('expanded');
			document.body.classList.toggle('overflow-hidden');
			document.getElementById('menu')?.classList.toggle('hidden');
		});

		attachEvent('[data-aw-toggle-color-scheme]', 'click', function () {
			document.documentElement.classList.toggle('dark');
			localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
		});
	};
	window.onpageshow = function () {
		const elem = document.querySelector('[data-aw-toggle-menu]');
		if (elem) {
			elem.classList.remove('expanded');
		}
		document.body.classList.remove('overflow-hidden');
		document.getElementById('menu')?.classList.add('hidden');
	};
</script>

		
	</body>
</html>