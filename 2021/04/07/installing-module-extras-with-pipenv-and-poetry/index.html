<!doctype html><html lang=en><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta http-equiv=cache-control content="public"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=generator content="Hugo 0.83.0"><title>Installing Module Extras with Pipenv and Poetry - Ian Wootten</title><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.ianwootten.co.uk"},"articleSection":"posts","name":"Installing Module Extras with Pipenv and Poetry","headline":"Installing Module Extras with Pipenv and Poetry","description":"I thought it worth documenting how to install \u0026ldquo;extra\u0026rdquo; dependencies in Pipenv and Poetry after struggling to find the answer myself. Context: I hit a problem with uvicorn where the websockets module hadn\u0026rsquo;t been installed as a result of not including the \u0026ldquo;standard\u0026rdquo; extras. Rather than return an error, it just failed to connect the websocket which made me think something was wrong with my network configuration.\nAs an example, take the following pip command:","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2021","datePublished":"2021-04-07 17:13:00 \u002b0100 \u002b0100","dateModified":"2021-04-07 17:13:00 \u002b0100 \u002b0100","url":"https:\/\/www.ianwootten.co.uk\/2021\/04\/07\/installing-module-extras-with-pipenv-and-poetry\/","wordCount":"204","keywords":["python","pipenv","poetry","til","Blog"]}</script><meta name=description content="I thought it worth documenting how to install &ldquo;extra&rdquo; dependencies in Pipenv and Poetry after struggling to find the answer myself. Context: I hit a problem with uvicorn where the websockets module hadn&rsquo;t been installed as a result of not including the &ldquo;standard&rdquo; extras. Rather than return an error, it just failed to connect the websocket which made me think something was wrong with my network configuration.
As an example, take the following pip command:"><meta name=keywords content="Developer,Programming,Python,Terraform,Serverless,VueJS,Cardiff"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.ianwootten.co.uk/images/installing-module-extras-with-pipenv-poetry/opengraph.jpg"><meta name=twitter:title content="Installing Module Extras with Pipenv and Poetry"><meta name=twitter:description content="I thought it worth documenting how to install &ldquo;extra&rdquo; dependencies in Pipenv and Poetry after struggling to find the answer myself. Context: I hit a problem with uvicorn where the websockets module hadn&rsquo;t been installed as a result of not including the &ldquo;standard&rdquo; extras. Rather than return an error, it just failed to connect the websocket which made me think something was wrong with my network configuration.
As an example, take the following pip command:"><meta property="og:title" content="Installing Module Extras with Pipenv and Poetry"><meta property="og:description" content="I thought it worth documenting how to install &ldquo;extra&rdquo; dependencies in Pipenv and Poetry after struggling to find the answer myself. Context: I hit a problem with uvicorn where the websockets module hadn&rsquo;t been installed as a result of not including the &ldquo;standard&rdquo; extras. Rather than return an error, it just failed to connect the websocket which made me think something was wrong with my network configuration.
As an example, take the following pip command:"><meta property="og:type" content="article"><meta property="og:url" content="https://www.ianwootten.co.uk/2021/04/07/installing-module-extras-with-pipenv-and-poetry/"><meta property="og:image" content="https://www.ianwootten.co.uk/images/installing-module-extras-with-pipenv-poetry/opengraph.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-04-07T17:13:00+01:00"><meta property="article:modified_time" content="2021-04-07T17:13:00+01:00"><link rel=stylesheet href=https://www.ianwootten.co.uk/css/hyde-hyde.css><link rel=stylesheet href=https://www.ianwootten.co.uk/css/print.css media=print><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://www.ianwootten.co.uk/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://www.ianwootten.co.uk/favicon.png><script async defer data-domain=ianwootten.co.uk src=https://analytics.niftydigits.com/js/plausible.js></script></head><body><div class=sidebar><div class=container><div class=sidebar-about><span class=site__title><a href=https://www.ianwootten.co.uk>Ian Wootten</a></span><div class=author-image><a href=https://www.ianwootten.co.uk><img src=https://www.ianwootten.co.uk/images/headshot.jpg alt="Author Image" class="img--circle img--headshot element--center" width=115px height=115px></a></div><p class=site__description>Software Developer, Cardiff</p></div><div class=collapsible-menu><input type=checkbox id=menuToggle>
<label for=menuToggle>Ian Wootten</label><div class=menu-content><div><ul class=sidebar-nav><li><a href=https://www.ianwootten.co.uk/about/><span>About</span></a></li><li><a href=https://www.ianwootten.co.uk/hire-me/><span>Hire Me</span></a></li><li><a href=https://www.getrevue.co/profile/iwootten><span>Subscribe</span></a></li></li></ul></div><section class=social><a href=https://twitter.com/iwootten rel=me><i alt="My Twitter profile" class="fab fa-twitter fa-lg" aria-hidden=true></i></a>
<a href=https://youtube.com/channel/UCIrmOddTgfsohRAHrJ5ltrA rel=me><i alt="My youtube channel" class="fab fa-youtube fa-lg" aria-hidden=true></i></a>
<a href=https://github.com/iwootten rel=me><i alt="My Github profile" class="fab fa-github fa-lg" aria-hidden=true></i></a>
<a href=https://linkedin.com/in/iwootten rel=me><i alt="My linkedin profile" class="fab fa-linkedin fa-lg" aria-hidden=true></i></a>
<a href=https://stackoverflow.com/users/1405701 rel=me><i alt="My stackoverflow profile" class="fab fa-stack-overflow fa-lg" aria-hidden=true></i></a></section></div></div><p class=copyright>&copy;2003-2022 Ian Wootten</p></div><div></div></div><div class="content container"><article><header><h1><a href=https://www.ianwootten.co.uk/2021/04/07/installing-module-extras-with-pipenv-and-poetry/>Installing Module Extras with Pipenv and Poetry</a></h1><div class=post__meta><i class="fas fa-calendar-alt"></i> Apr 07, 2021
in
<a class="badge badge-category" href=https://www.ianwootten.co.uk/categories/development>DEVELOPMENT</a><br><i class="fas fa-tags"></i>
<a class="badge badge-tag" href=https://www.ianwootten.co.uk/tags/python>python</a>
<a class="badge badge-tag" href=https://www.ianwootten.co.uk/tags/pipenv>pipenv</a>
<a class="badge badge-tag" href=https://www.ianwootten.co.uk/tags/poetry>poetry</a>
<a class="badge badge-tag" href=https://www.ianwootten.co.uk/tags/til>til</a><br><i class="fas fa-clock"></i> 1 min read</div></header><div class=post><p>I thought it worth documenting how to install <a href=https://pip.pypa.io/en/stable/reference/pip_install/>&ldquo;extra&rdquo; dependencies</a> in Pipenv and Poetry after struggling to find the answer myself. Context: I hit a problem with <a href=https://www.uvicorn.org/>uvicorn</a> where the websockets module hadn&rsquo;t been installed as a result of not including the &ldquo;standard&rdquo; extras. Rather than return an error, it just failed to connect the websocket which made me think something was wrong with my network configuration.</p><p>As an example, take the following pip command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pip install uvicorn<span style=color:#f92672>[</span>standard<span style=color:#f92672>]</span>
</code></pre></div><p>With <a href=https://pipenv.pypa.io/en/latest/>Pipenv</a>, the equivalent would be to pip install a Pipfile that looks something like this (I can&rsquo;t see a way to do this from Pipenvs cli):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[[</span>source<span style=color:#f92672>]]</span>
name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;pypi&#34;</span>
url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;https://pypi.org/simple&#34;</span>
verify_ssl <span style=color:#f92672>=</span> true

<span style=color:#f92672>[</span>packages<span style=color:#f92672>]</span>
uvicorn <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>extras <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;standard&#34;</span><span style=color:#f92672>]</span>, version <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;*&#34;</span><span style=color:#f92672>}</span>

<span style=color:#f92672>[</span>requires<span style=color:#f92672>]</span>
python_version <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;3.9.1&#34;</span>
</code></pre></div><p>In <a href=https://python-poetry.org/docs/>poetry</a> the same can be done from the cli using:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>poetry add uvicorn -E standard
</code></pre></div><p>Which will create a pyproject.toml for poetry as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>tool.poetry<span style=color:#f92672>]</span>
name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;uvicorn-test&#34;</span>
version <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;0.1.0&#34;</span>
description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
authors <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;Ian Wootten &lt;hi@niftydigits.com&gt;&#34;</span><span style=color:#f92672>]</span>

<span style=color:#f92672>[</span>tool.poetry.dependencies<span style=color:#f92672>]</span>
python <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;^3.9&#34;</span>
uvicorn <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>version <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;^0.13.4&#34;</span>, extras <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;standard&#34;</span><span style=color:#f92672>]}</span>

<span style=color:#f92672>[</span>tool.poetry.dev-dependencies<span style=color:#f92672>]</span>

<span style=color:#f92672>[</span>build-system<span style=color:#f92672>]</span>
requires <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;poetry-core&gt;=1.0.0&#34;</span><span style=color:#f92672>]</span>
build-backend <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;poetry.core.masonry.api&#34;</span>
</code></pre></div><p>The &ldquo;-E&rdquo; option on the add command for poetry appears to be <a href=https://python-poetry.org/docs/cli/#add>documented on install only</a>.</p></div><div class="navigation navigation-single"><a href=https://www.ianwootten.co.uk/2021/03/30/youtube-videos-as-small-experiments/ class=navigation-prev><i aria-hidden=true class="fa fa-chevron-left"></i>
<span class=navigation-tittle>YouTube Videos as Small Experiments</span></a>
<a href=https://www.ianwootten.co.uk/2021/06/08/build-your-own-pico-powered-midi-controller-for-35/ class=navigation-next><span class=navigation-tittle>Build Your Own Pico Powered Midi Controller for $35</span>
<i aria-hidden=true class="fa fa-chevron-right"></i></a></div></article></div><script defer src=https://use.fontawesome.com/releases/v5.2.0/js/all.js integrity=sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy crossorigin=anonymous></script></body></html>