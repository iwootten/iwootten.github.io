<!DOCTYPE html>
<html lang="en">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.83.1" />

    
    
    

<title>How to Setup Raspberry Pi OS: Bullseye like a Python Pro - Ian Wootten</title>
<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/www.ianwootten.co.uk"
    },
    "articleSection" : "posts",
    "name" : "How to Setup Raspberry Pi OS: Bullseye like a Python Pro",
    "headline" : "How to Setup Raspberry Pi OS: Bullseye like a Python Pro",
    "description" : "I setup my Raspberry Pi using Bullseye and installed many of the same developer tools I use on my main dev machine for Python upon it. You can also check out a youtube video I\u0026rsquo;ve made on setting it up here. I did this from scratch with a brand new install, with all available updates installed at the time. Bullseye is the most recent release of Raspberry Pi OS which came out earlier this month, based on Debian Bullseye.",
    "inLanguage" : "en-US",
    "author" : "",
    "creator" : "",
    "publisher": "",
    "accountablePerson" : "",
    "copyrightHolder" : "",
    "copyrightYear" : "2021",
    "datePublished": "2021-11-29 17:29:55 \u002b0000 UTC",
    "dateModified" : "2021-11-29 17:29:55 \u002b0000 UTC",
    "url" : "https:\/\/www.ianwootten.co.uk\/2021\/11\/29\/how-to-setup-raspberry-pi-os-bullseye-like-a-python-pro\/",
    "wordCount" : "1296",
    "keywords" : [ "python","raspberry pi","pipenv","pyenv","poetry","pipx","Blog" ]
}
</script>
<meta name="description" content="Ian Wootten is a Software Developer in Cardiff, UK. He helps companies solve complex problems with simple software. He uses tools like Python, Terraform and Serverless to deliver solutions and iterate quickly.">
<meta name="keywords" content="Developer, Programming, Python, Terraform, Serverless, VueJS, Cardiff">
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.ianwootten.co.uk/images/python-bullseye/opengraph.jpg"/>

<meta name="twitter:title" content="How to Setup Raspberry Pi OS: Bullseye like a Python Pro"/>
<meta name="twitter:description" content="I setup my Raspberry Pi using Bullseye and installed many of the same developer tools I use on my main dev machine for Python upon it. You can also check out a youtube video I&rsquo;ve made on setting it up here. I did this from scratch with a brand new install, with all available updates installed at the time. Bullseye is the most recent release of Raspberry Pi OS which came out earlier this month, based on Debian Bullseye."/>

<meta property="og:title" content="How to Setup Raspberry Pi OS: Bullseye like a Python Pro" />
<meta property="og:description" content="I setup my Raspberry Pi using Bullseye and installed many of the same developer tools I use on my main dev machine for Python upon it. You can also check out a youtube video I&rsquo;ve made on setting it up here. I did this from scratch with a brand new install, with all available updates installed at the time. Bullseye is the most recent release of Raspberry Pi OS which came out earlier this month, based on Debian Bullseye." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.ianwootten.co.uk/2021/11/29/how-to-setup-raspberry-pi-os-bullseye-like-a-python-pro/" /><meta property="og:image" content="https://www.ianwootten.co.uk/images/python-bullseye/opengraph.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-29T17:29:55&#43;00:00" />
<meta property="article:modified_time" content="2021-11-29T17:29:55&#43;00:00" />



    


<link rel="stylesheet" href="https://www.ianwootten.co.uk/css/hyde-hyde.css">
<link rel="stylesheet" href="https://www.ianwootten.co.uk/css/print.css" media="print">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.ianwootten.co.uk/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="https://www.ianwootten.co.uk/favicon.png">
    

    <script async defer data-domain="ianwootten.co.uk" src="https://analytics.niftydigits.com/js/plausible.js"></script>
</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://www.ianwootten.co.uk">Ian Wootten</a>
      </span>
      
      
      
      <div class="author-image">
        <a href="https://www.ianwootten.co.uk"><img src="https://www.ianwootten.co.uk/images/headshot.jpg" alt="Author Image" class="img--circle img--headshot element--center" width="115px" height="115px"></a>
      </div>
      
      <p class="site__description">
         Software Developer, Cardiff 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Ian Wootten</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="https://www.ianwootten.co.uk/about/">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://www.ianwootten.co.uk/contact/">
						<span>Contact</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://www.getrevue.co/profile/iwootten">
						<span>Newsletter</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/iwootten" rel="me"><i alt="My Twitter profile" class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://youtube.com/channel/UCIrmOddTgfsohRAHrJ5ltrA" rel="me"><i alt="My youtube channel" class="fab fa-youtube fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/iwootten" rel="me"><i alt="My Github profile" class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	<a href="https://linkedin.com/in/iwootten" rel="me"><i alt="My linkedin profile" class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://stackoverflow.com/users/1405701" rel="me"><i alt="My stackoverflow profile" class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
</section>

      </div>
    </div>
    <p class="copyright">
      &copy;2003-2022 Ian Wootten
    </p>
  </div>
  <div>
  </div>
</div>

        <div class="content container">
            
    <article>
  <header>
    <h1><a href="https://www.ianwootten.co.uk/2021/11/29/how-to-setup-raspberry-pi-os-bullseye-like-a-python-pro/">How to Setup Raspberry Pi OS: Bullseye like a Python Pro</a></h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Nov 29, 2021
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/python">python</a>
           
      
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/raspberry-pi">raspberry pi</a>
           
      
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/pipenv">pipenv</a>
           
      
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/pyenv">pyenv</a>
           
      
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/poetry">poetry</a>
           
      
          <a class="badge badge-tag" href="https://www.ianwootten.co.uk/tags/pipx">pipx</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 7 min read
</div>


  </header>
  
  
  <div class="post">
    <p>I setup my Raspberry Pi using Bullseye and installed many of the same developer tools I use on my main dev machine for Python upon it. You can also check out a youtube video I&rsquo;ve made on <a href="https://www.youtube.com/watch?v=yiIvV2Oyfak">setting it up here</a>. I did this from scratch with a brand new install, with all available updates installed at the time. Bullseye is the most recent release of Raspberry Pi OS which came out earlier this month, based on Debian Bullseye.</p>
<p>Specifically, I did this on my Pi 400 which is feeling very lonely having not got much use since I bought it last year. The instructions here however should work for any Raspberry Pi running Bullseye. Out of the box, Bullseye is fully configured to get started programming Python and we have a couple of IDEs installed already. So you might be wondering why we need to do anything at all?</p>
<p>Well, as a Python developer, I have a few preferences for tools I use for writing code, I&rsquo;m already familiar with them so want to continue to use them. Additionally, I want to be able to manage multiple versions of Python and the library versions within environments simply and easily and update them when I need too, again with familiar tools. This isn&rsquo;t how a Pi or Bullseye is initially setup it&rsquo;s mostly used for education rather than professional(!) devs. Pi OS is shipped with everything we might need for Python straight away preinstalled globally. In a educational scenario, if we wanted to change the setup we could just swap out our main disk in the form of a microsd card for another very simply.</p>
<p>In practice it&rsquo;s important to separate dependencies in any development project so I want to do the do the same on Bullseye too. Practically, switching SD cards all the time doesn&rsquo;t make sense if I can just switch an environment via a command line.</p>
<h1 id="preinstalled-software">Preinstalled Software</h1>
<p>Out of the box, Bullseye ships with:</p>
<ul>
<li>Python 3.9.2</li>
<li>Git 2.30.1</li>
</ul>
<p>Somewhat differently to other machines I use, the system Python is loaded with a whole bunch of libraries already ready for someone to get coding with straight away. You can see the whole list of packages <a href="https://gist.github.com/iwootten/2592060391676474122536f3cc8821e4">here</a>. The problem is however that these are all globally fixed and if we were to update one, it may have a conflict with another library that&rsquo;s installed. We want to install tooling that allows us to manage virtual environments, such as Pipenv and Poetry.</p>
<p>For reference, the previous version of Raspberry Pi OS, Buster shipped with:</p>
<ul>
<li>Python 2.7.16 (Unsupported as of Jan 2020)</li>
<li>Python 3.7.3</li>
<li>Git 2.20.1</li>
</ul>
<h1 id="installation">Installation</h1>
<p>I don&rsquo;t go into much detail here about how you might use each tool - you can refer to the above video or the others on my channel or articles on this blog. For the rest of this article I cover a number of different tools to install so use these links to jump to the parts you&rsquo;re most interested in:</p>
<ul>
<li><a href="#pyenv">pyenv</a></li>
<li><a href="#pipx">pipx</a></li>
<li><a href="#pipenv">pipenv</a></li>
<li><a href="#poetry">poetry</a></li>
<li><a href="#zsh">zsh</a></li>
<li><a href="#oh-my-zsh">Oh My Zsh</a></li>
<li><a href="#vscode">VSCode</a></li>
</ul>
<h2 id="pyenv">Pyenv</h2>
<p>Pyenv is a tool which allows us to install multiple versions of Python on the same machine.</p>
<p>In order to install Pyenv on Bullseye, we need to install the <a href="https://github.com/pyenv/pyenv/wiki#suggested-build-environment">Python build dependencies</a> for Debian.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt-get update; sudo apt-get install make build-essential libssl-dev zlib1g-dev <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev
</code></pre></div><p>Once that&rsquo;s done, you can follow the instructions to clone the pyenv repo to your users home directory.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> git clone https://github.com/pyenv/pyenv.git ~/.pyenv
</code></pre></div><p>I also went ahead and compiled the bash extension:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> cd ~/.pyenv <span style="color:#f92672">&amp;&amp;</span> src/configure <span style="color:#f92672">&amp;&amp;</span> make -C src
</code></pre></div><p>Once cloned, you&rsquo;ll need to configure your shell to work with Python. There&rsquo;s a few different options available here, we can use the Debian version. <em>NB. In the video the one that I used was for the Suse install.</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># the sed invocation inserts the lines at the start of the file</span>
<span style="color:#75715e"># after any initial comment lines</span>
sed -Ei -e <span style="color:#e6db74">&#39;/^([^#]|$)/ {a \
</span><span style="color:#e6db74">export PYENV_ROOT=&#34;$HOME/.pyenv&#34;
</span><span style="color:#e6db74">a \
</span><span style="color:#e6db74">export PATH=&#34;$PYENV_ROOT/bin:$PATH&#34;
</span><span style="color:#e6db74">a \
</span><span style="color:#e6db74">&#39;</span> -e <span style="color:#e6db74">&#39;:a&#39;</span> -e <span style="color:#e6db74">&#39;$!{n;ba};}&#39;</span> ~/.profile
echo <span style="color:#e6db74">&#39;eval &#34;$(pyenv init --path)&#34;&#39;</span> &gt;&gt;~/.profile

echo <span style="color:#e6db74">&#39;eval &#34;$(pyenv init -)&#34;&#39;</span> &gt;&gt; ~/.bashrc
</code></pre></div><p>You&rsquo;ll need to logout and login again in order for the .profile file that was just created by this command to be sourced. You can also do:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">source ~/.profile
</code></pre></div><p>At this point you should be able to call <code>pyenv versions</code> and see the cli return some helpful information about which versions of Python are installed. There should currently be a system version and nothing else listed. It should also be highlighted with a start to indicate it is the global version of Python.</p>
<p>If you want to install a new version of python, call:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pyenv install 3.10.0
</code></pre></div><p>If you check <code>pyenv versions</code> after install you should see both versions listed.</p>
<h2 id="pipx">pipx</h2>
<p>After spending much time with failed installations on Pi OS, I found the simplest way of getting Python virtualenv tooling installed is using <a href="https://pypi.org/project/pipx/">pipx</a>. You should make sure you&rsquo;re still using the system version of Python before install and call:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">python3 -m pip install --user pipx
python3 -m pipx ensurepath
</code></pre></div><h2 id="pipenv">pipenv</h2>
<p><a href="https://pypi.org/project/pipenv/">Pipenv</a> is a great tool for managing Python virtual environments and specifying dependencies. It wraps up many of the common management actions into one tool and automatically maintains dependencies in a Pipfile and Pipfile.lock as you install them.</p>
<p>Now we have pipx installed, we can easily install pipenv by calling:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pipx install pipenv
</code></pre></div><h2 id="poetry">Poetry</h2>
<p><a href="https://python-poetry.org/">Poetry</a> is another tool for managing Python virtual environments. It takes things a step further than Pipenv by simplifying both managing an environment and publishing to the <a href="pypi.org">Python Package Index</a>.</p>
<p>Similar to pipenv, we can easily install Poetry using pipx by calling:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pipx install poetry
</code></pre></div><h2 id="zsh">zsh</h2>
<p>ZShell is my shell of choice. It&rsquo;s the default option on mac and gives me access to the wonderful ohmyzsh plugins. We can easily set this up on the Pi using apt.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt install zsh -y
</code></pre></div><p>At this point, you&rsquo;ll need to logout and back in again for the changes to occur to the terminal app.</p>
<h2 id="oh-my-zsh">Oh My Zsh</h2>
<p><a href="https://github.com/ohmyzsh/ohmyzsh">Oh my zsh</a> installs a number of fancy themes for terminal and shortcuts for tools like git. It allows you to see branches when in git directories with status indicated by the cursor colour which is really useful and saves a lot of repeated commands.</p>
<p>It can be installed with:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sh -c <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</code></pre></div><h2 id="visual-studio-code">Visual Studio Code</h2>
<p>Although we already have a couple of ide&rsquo;s installed already, they aren&rsquo;t ones I generally use day to day. Although Pycharm is available for linux, it&rsquo;s quite a cumbersome beast requiring a full JDK and will likely be pretty slow on our Pi, so I&rsquo;d recommend against trying to install it. VSCode is a full featured text editor that can be configured for many languages through the use of plugins and is a familiar tool to me.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt install code -y
</code></pre></div><p>You should then see it appear within the programming menu.</p>
<p><img src="https://www.ianwootten.co.uk/images/setting-up-bullseye-python/vscode-menu.png" alt="/images/setting-up-bullseye-python/vscode-menu.png">.</p>
<p>Once you&rsquo;ve got it up and running, be sure to install the Python plugin to get syntax highlighting and hinting. You can also install any of the other plugins that take your fancy.</p>
<h1 id="conclusion">Conclusion</h1>
<p>If you followed the same steps as me, your Raspberry Pi should now be ready to get started doing some serious Python coding on Bullseye. You can save money on microsd cards by keeping all your projects separate on the same machine.</p>
<form action="https://www.getrevue.co/profile/iwootten/add_subscriber" method="post" id="revue-form" name="revue-form"
  target="_blank" style="background: #e7daf1; padding: 1rem; margin-top: 2rem; border: 2px solid #300030;">
  <h3 style="margin-top:0">Dev Tips Delivered Directly to your Inbox</h3>
  <p>My <a href="https://www.getrevue.co/profile/iwootten">newsletter</a> comes out every few
    weeks and is stuffed with helpful stories and code from devs shipping stuff. It features articles and videos I've
    recently published here so you'll never miss out.
  <p>

  <p>No spam, unsubscribe any time. Check out <a href="https://www.getrevue.co/profile/iwootten">previous issues
      here</a>.
  </p>
  <div class="revue-form-group">
    <input class="revue-form-field" placeholder="Your email address..." type="email" name="member[email]"
      id="member_email" style="width: 100%;font-size: 20px;">
  </div>
  <div class="revue-form-actions">
    <input type="submit" value="Subscribe" name="member[subscribe]" id="member_submit">
  </div>
</form>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="https://www.ianwootten.co.uk/2021/09/17/remove-disqus-and-3x-your-blog-performance/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Remove Disqus and 3x Your Blog Performance</span>
    </a>
    
    
    <a href="https://www.ianwootten.co.uk/2021/12/29/how-to-code-christmas-tree-leds-and-find-their-3d-coordinates/" class="navigation-next">
      <span class="navigation-tittle">How to Code Christmas Tree LEDs (and find their 3D Coordinates)</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>


        </div>
        
    
<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"
  integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy"
  crossorigin="anonymous">
</script>


    
    




    



    </body>
</html>
